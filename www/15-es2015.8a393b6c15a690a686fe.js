(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{aOlj:function(o,i,n){"use strict";n.d(i,"a",(function(){return b}));var t=n("mrSG"),e=n("tk/3"),c=n("ool6"),r=n("fXoL"),s=n("6uu6"),a=n("TEn/");let b=(()=>{class o{constructor(o,i,n){this.AuthService=o,this.http=i,this.loadingController=n,this.headers=new e.c({"Content-Type":"aplication/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH, OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type,Access-Control-All-Methods"})}presentLoading(o="Cargando...",i="my-custom-class"){return Object(t.a)(this,void 0,void 0,(function*(){let n=yield this.loadingController.create({cssClass:i,message:o});return n.present(),n}))}getJson(o){return this.http.get(c.a.API_BASE+o)}postJson(o,i,n,t={},e=!0){return t.componente=o,t.controlador=i,t.accion=n,t.authUsuarioID=this.AuthService.getUsuario().usuarioId,this.http.post(c.a.API_BASE,t)}putJson(o,i){return this.http.patch(c.a.API_BASE+i,o)}login(o,i,n,t={}){return t.componente=o,t.controlador=i,t.accion=n,this.http.post(c.a.API_BASE,t)}}return o.\u0275fac=function(i){return new(i||o)(r.Rb(s.a),r.Rb(e.a),r.Rb(a.R))},o.\u0275prov=r.Eb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},fBZb:function(o,i,n){"use strict";n.d(i,"a",(function(){return e}));var t=n("fXoL");let e=(()=>{class o{constructor(){this.equipos=[],this.cliente=[]}setEquipos(o){return new Promise((i,n)=>(this.equipos=o,console.log("promesa set eqipo"),i(!0)))}getEquipos(){return this.equipos}deleteEquipos(){this.equipos=[]}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=t.Eb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},ool6:function(o,i,n){"use strict";n.d(i,"a",(function(){return t}));const t={API_BASE:"https://siom.oximeiser.com/api.php",ARCHIVO_BASE:"https://siom.oximeiser.com/"}},zECf:function(o,i,n){"use strict";n.r(i),n.d(i,"HistorialRepartoPageModule",(function(){return N}));var t=n("ofXK"),e=n("3Pt+"),c=n("TEn/"),r=n("tyNb"),s=n("fXoL"),a=n("fBZb"),b=n("aOlj"),l=n("Gdqo");const d=function(o,i){return{animate__backInRight:o,animate__backOutRight:i}};function u(o,i){if(1&o){const o=s.Ob();s.Nb(0,"ion-searchbar",9),s.Vb("ionChange",(function(i){return s.hc(o),s.Xb().ChangeSearchbar(i.target.value)})),s.Mb()}if(2&o){const o=s.Xb();s.ac("ngClass",s.ec(1,d,o.buscarAnimacion,!o.buscarAnimacion))}}const h=function(o){return{ENREPARTO:o}};function p(o,i){if(1&o){const o=s.Ob();s.Nb(0,"ion-col",13),s.Nb(1,"ion-item",14),s.Nb(2,"ion-grid"),s.Nb(3,"ion-row",15),s.Nb(4,"ion-col",16),s.Nb(5,"h4"),s.Nb(6,"strong"),s.lc(7),s.Mb(),s.Mb(),s.Nb(8,"span"),s.lc(9),s.Mb(),s.Jb(10,"br"),s.Nb(11,"span"),s.lc(12,"Cliente : "),s.Nb(13,"strong"),s.lc(14),s.Mb(),s.Mb(),s.Mb(),s.Nb(15,"ion-col",17),s.Nb(16,"ion-button",18),s.Vb("click",(function(){s.hc(o);const n=i.$implicit;return s.Xb(2).seleccionarEquipo(n)})),s.Jb(17,"ion-icon",19),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=i.$implicit;s.xb(1),s.zb("animate__animated animate__fadeInUpBig  ",o.reciboEstadoReparto,""),s.ac("ngClass",s.dc(8,h,"EN REPARTO"==o.reciboEstadoReparto)),s.xb(6),s.nc(" Servicio : ",o.reciboNumero,""),s.xb(2),s.nc("Estado : ",o.reciboEstadoReparto," "),s.xb(5),s.oc("",o.personaIdentificacion," | ",o.personaRazonSocial,"")}}function g(o,i){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.kc(1,p,18,10,"ion-col",10),s.Nb(2,"ion-infinite-scroll",11),s.Vb("ionInfinite",(function(i){return s.hc(o),s.Xb().loadData(i)})),s.Jb(3,"ion-infinite-scroll-content",12),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.xb(1),s.ac("ngForOf",o.listado)}}function f(o,i){if(1&o){const o=s.Ob();s.Nb(0,"ion-row"),s.Nb(1,"ion-col",20),s.Nb(2,"ion-item",21),s.Nb(3,"ion-grid"),s.Nb(4,"ion-row",15),s.Nb(5,"ion-col",22),s.Nb(6,"ion-label"),s.Nb(7,"ion-button",23),s.Vb("click",(function(){return s.hc(o),s.Xb().cancelarSeleccion()})),s.lc(8,"Listado"),s.Mb(),s.Mb(),s.Mb(),s.Nb(9,"ion-col",20),s.Nb(10,"ion-label",24),s.Nb(11,"ion-text",25),s.Nb(12,"h2"),s.lc(13,"Cliente"),s.Mb(),s.Mb(),s.Nb(14,"strong"),s.lc(15,"Nombre:"),s.Mb(),s.lc(16),s.Jb(17,"br"),s.Nb(18,"strong"),s.lc(19,"CC:"),s.Mb(),s.lc(20),s.Jb(21,"br"),s.Nb(22,"strong"),s.lc(23,"Codigo Cliente:"),s.Mb(),s.lc(24),s.Jb(25,"br"),s.Nb(26,"strong"),s.lc(27,"Correo:"),s.Mb(),s.lc(28),s.Jb(29,"br"),s.Jb(30,"br"),s.Nb(31,"ion-text",25),s.Nb(32,"h2"),s.lc(33,"Recibo"),s.Mb(),s.Mb(),s.Nb(34,"strong"),s.lc(35,"Numero:"),s.Mb(),s.lc(36),s.Jb(37,"br"),s.Nb(38,"strong"),s.lc(39,"Servicio:"),s.Mb(),s.lc(40),s.Jb(41,"br"),s.Nb(42,"strong"),s.lc(43,"Fecha Servicio:"),s.Mb(),s.lc(44),s.Jb(45,"br"),s.Nb(46,"strong"),s.lc(47,"Fecha recogida:"),s.Mb(),s.lc(48),s.Jb(49,"br"),s.Jb(50,"br"),s.Nb(51,"ion-item",21),s.Nb(52,"ion-grid"),s.Nb(53,"ion-row",15),s.Nb(54,"ion-col",26),s.Jb(55,"img",27),s.Mb(),s.Nb(56,"ion-col",28),s.Nb(57,"ion-label"),s.Nb(58,"strong"),s.lc(59),s.Mb(),s.Jb(60,"br"),s.Nb(61,"a",29),s.lc(62),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.xb(16),s.nc(" ",o.equipoSeleccionado.personaRazonSocial,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.personaIdentificacion,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.clienteCodigo,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.personaCorreoElectronico,""),s.xb(8),s.nc(" ",o.equipoSeleccionado.reciboNumero,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.reciboServicio,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.reciboFechaServicio,""),s.xb(4),s.nc(" ",o.equipoSeleccionado.reciboFechaRecogida,""),s.xb(11),s.mc(o.equipoSeleccionado.documentoTITULO),s.xb(2),s.bc("href",o.equipoSeleccionado.documentoURL,s.ic),s.cc("download","",o.equipoSeleccionado.servicioCODIGO,".pdf"),s.xb(1),s.nc(" Decargar recibo de Servicio ",o.equipoSeleccionado.servicioCODIGO,"")}}const m=[{path:"",component:(()=>{class o{constructor(o,i,n,t,e,c){this.DatosEquiposService=o,this.Router=i,this.ActivatedRoute=n,this.BaseService=t,this.Sweetalert=e,this.MenuController=c,this.cantidadItemLista=10,this.inicioItemLista=0,this.buscadorActivo=!1,this.buscar=!1,this.buscarAnimacion=!1,this.listado=[],this.listadoFilter=[],this.listadoTodos=[],this.mostrarSeleccionado=!1,this.COLORES_ESTADOS={ENSERVICIO:"#6AD64D",RECOGIDO:"#6AE4FC",PERDIDA:"#FC588F",NOFUNCIONO:"#FC588F",PORENTREGAR:"#F90244",ENREPARTO:"#F99C2A"}}ngOnInit(){this.MenuController.enable(!0,"menu"),this.getListado()}cancelarSeleccion(){this.inicioLista()}inicioLista(){this.mostrarSeleccionado=!1}seleccionarEquipo(o){o.otrosPendientes=[],this.equipoSeleccionado=o,this.buscadorActivo&&this.buscador(),this.mostrarSeleccionado=!0}loadData(o){}toggleInfiniteScroll(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled}buscador(){this.buscar?(this.buscarAnimacion=!1,setTimeout(()=>{this.buscar=!1,this.ChangeSearchbar("")},900)):(this.buscar=!0,this.buscarAnimacion=!0)}getListado(){this.BaseService.postJson("repartidores","repartosUsuario","historialApi",{}).subscribe(o=>{(o.RESPUESTA="EXITO")?o.DATOS?(this.listadoTodos=[].concat(this.listadoTodos,o.DATOS),this.listado=this.listadoTodos,this.listadoFilter=this.listadoTodos,console.log(this.listadoTodos)):this.Sweetalert.notificacion("info",o.MENSAJE):this.Sweetalert.modal("error",o.MENSAJE),this.eventCargandoLista&&this.eventCargandoLista.target.complete()})}reiniciar(){this.listadoTodos=[],this.listado=[],this.listadoFilter=[]}doRefresh(o){this.inicioItemLista=0,this.reiniciar(),this.getListado(),setTimeout(()=>{o.target.complete()},1e3)}ChangeSearchbar(o){let i=o;i&&""!==i.trim()&&i.length>3?(this.buscadorActivo=!0,this.BaseService.postJson("repartidores","","",{datoBusqueda:o}).subscribe(o=>{(o.RESPUESTA="EXITO")?o.DATOS?this.listado=o.DATOS:(this.listado=[],this.Sweetalert.notificacion("info","No se encontraron equipos.")):this.Sweetalert.modal("error",o.mensaje)})):(this.buscadorActivo=!1,this.listado=this.listadoTodos)}}return o.\u0275fac=function(i){return new(i||o)(s.Ib(a.a),s.Ib(r.g),s.Ib(r.a),s.Ib(b.a),s.Ib(l.a),s.Ib(c.S))},o.\u0275cmp=s.Cb({type:o,selectors:[["app-historial-reparto"]],viewQuery:function(o,i){var n;1&o&&s.pc(c.u,!0),2&o&&s.fc(n=s.Wb())&&(i.infiniteScroll=n.first)},decls:14,vars:4,consts:[[1,"ion-no-border"],["slot","start"],["icon","chevron-back"],["slot","end"],[3,"fullscreen"],["color","primary","placeholder","Buscar","style","margin-bottom: 40%;","autocomplete","On","style","position:fixed; z-index: 100;","class","animate__animated  ",3,"ngClass","ionChange",4,"ngIf"],["slot","fixed",3,"ionRefresh"],[1,"ion-padding"],[4,"ngIf"],["color","primary","placeholder","Buscar","autocomplete","On",1,"animate__animated",2,"position","fixed","z-index","100",3,"ngClass","ionChange"],["size-lg","6","size","12",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Cargando..."],["size-lg","6","size","12"],["lines","none",2,"margin","2px",3,"ngClass"],[1,"ion-align-items-center"],["size","9"],["size","3",1,"text-right"],["fill","clear","size","large",3,"click"],["name","chevron-forward","slot","end",1,"ion-icon-a"],["size","12"],["lines","none",1,"animate__animated","animate__fadeInUpBig",2,"margin","2px"],["size","12",2,"margin-bottom","5%"],["color","primary",3,"click"],[1,"ion-text-wrap","text-center"],["color","primary"],["size","4"],["src","https://siom.oximeiser.com/libs/media/PDF-logo.png","alt","iconPDF",2,"width","100%"],["size","8"],["ion-button","","size","small","target","_blank",3,"href","download"]],template:function(o,i){1&o&&(s.Nb(0,"ion-header",0),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-title"),s.lc(3,"Historial"),s.Mb(),s.Nb(4,"ion-buttons",1),s.Jb(5,"ion-back-button",2),s.Mb(),s.Jb(6,"ion-buttons",3),s.Mb(),s.Mb(),s.Nb(7,"ion-content",4),s.kc(8,u,1,4,"ion-searchbar",5),s.Nb(9,"ion-refresher",6),s.Vb("ionRefresh",(function(o){return i.doRefresh(o)})),s.Jb(10,"ion-refresher-content"),s.Mb(),s.Nb(11,"div",7),s.kc(12,g,4,1,"ion-row",8),s.kc(13,f,63,12,"ion-row",8),s.Mb(),s.Mb()),2&o&&(s.xb(7),s.ac("fullscreen",!0),s.xb(1),s.ac("ngIf",i.buscar),s.xb(4),s.ac("ngIf",!i.mostrarSeleccionado),s.xb(1),s.ac("ngIf",i.mostrarSeleccionado))},directives:[c.r,c.O,c.N,c.h,c.d,c.e,c.p,t.j,c.F,c.G,c.J,c.W,t.h,c.I,t.i,c.u,c.v,c.o,c.x,c.q,c.g,c.s,c.y,c.M],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#003f7f;color:#fff;border-radius:0 0 20% 20%}ion-col[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]{--background:#f6f6f6}ion-card[_ngcontent-%COMP%]{margin-top:-180px;z-index:10;padding:6px;box-shadow:none;box-shadow:0 3px 45px 0 rgba(0,0,0,.16);border-radius:40px;overflow:visible}ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:240px;margin:-60px auto auto}ion-item[_ngcontent-%COMP%]{border-radius:14px;box-shadow:0 3px 45px 0 rgba(0,0,0,.08);color:#949494;margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:first-of-type{color:#fff;padding:4px;border-radius:12px}.ion-icon-a[_ngcontent-%COMP%]{background:#31d039;color:#fff}.ion-icon-b[_ngcontent-%COMP%]{background:#316dd0;color:#fff;padding:4px;border-radius:12px}.sato-lineas[_ngcontent-%COMP%]{line-height:1px}.ENSERVICIO[_ngcontent-%COMP%]{border:solid #6ad64d}.RECOGIDA[_ngcontent-%COMP%]{border:solid #6ae4fc}.NOFUNCIONO[_ngcontent-%COMP%], .PERDIDA[_ngcontent-%COMP%]{border:solid #fc588f}.PORENTREGAR[_ngcontent-%COMP%]{border:solid #f90244}.ENREPARTO[_ngcontent-%COMP%]{border:solid #f99c2a}.ENTREGADO[_ngcontent-%COMP%]{border:solid #6ae4fc}.PENDIENTE[_ngcontent-%COMP%]{border:solid #fc588f}"]}),o})()}];let M=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(i){return new(i||o)},imports:[[r.i.forChild(m)],r.i]}),o})(),N=(()=>{class o{}return o.\u0275mod=s.Gb({type:o}),o.\u0275inj=s.Fb({factory:function(i){return new(i||o)},imports:[[t.b,e.e,c.P,M]]}),o})()}}]);