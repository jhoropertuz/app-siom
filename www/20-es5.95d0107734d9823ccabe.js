!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{KjE0:function(i,n,r){"use strict";r.r(n),r.d(n,"EntregaOxigemPageModule",(function(){return w}));var t=r("ofXK"),a=r("3Pt+"),s=r("TEn/"),c=r("tyNb"),b=r("gcOT"),l=r("fXoL"),u=r("qMNJ"),p=r("6uu6"),f=r("fBZb"),g=r("aOlj"),m=r("Gdqo"),d=r("ZkMX");function h(e,o){if(1&e&&(l.Mb(0,"ion-select-option",10),l.kc(1),l.Lb()),2&e){var i=o.$implicit;l.ac("value",i.clienteId),l.xb(1),l.nc("",i.personaIdentificacion," - ",i.personaRazonSocial," ")}}function M(e,o){if(1&e&&(l.Mb(0,"ion-select-option",10),l.kc(1),l.Lb()),2&e){var i=o.$implicit;l.ac("value",i.personaId),l.xb(1),l.nc("",i.personaIdentificacion," - ",i.personaRazonSocial," ")}}function L(e,o){if(1&e){var i=l.Nb();l.Mb(0,"ion-grid"),l.Mb(1,"ion-row"),l.Mb(2,"ion-col",4),l.Mb(3,"strong"),l.kc(4,"Datos Persona"),l.Lb(),l.Lb(),l.Lb(),l.Mb(5,"ion-row"),l.Mb(6,"ion-col",5),l.Mb(7,"ion-item"),l.Mb(8,"ion-label"),l.Mb(9,"p"),l.Mb(10,"strong"),l.kc(11,"Nombre: "),l.Lb(),l.kc(12),l.Lb(),l.Mb(13,"p"),l.Mb(14,"strong"),l.kc(15,"Identificaci\xf3n: "),l.Lb(),l.kc(16),l.Lb(),l.Mb(17,"p"),l.Mb(18,"strong"),l.kc(19,"Celular: "),l.Lb(),l.kc(20),l.Lb(),l.Mb(21,"p"),l.Mb(22,"strong"),l.kc(23,"Correo: "),l.Lb(),l.kc(24),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(25,"ion-row"),l.Mb(26,"ion-col",4),l.Mb(27,"p"),l.kc(28,"Firma"),l.Lb(),l.Mb(29,"app-firma",11),l.Ub("firmaBase64Event",(function(e){return l.gc(i),l.Wb().firmaBase64Event(e)})),l.Lb(),l.Lb(),l.Lb(),l.Mb(30,"ion-row"),l.Mb(31,"ion-col",4),l.Mb(32,"ion-list"),l.Mb(33,"ion-item"),l.Mb(34,"ion-label"),l.kc(35,"Nos autoriza para utilizar su firma en los procesos necesarios del servicio."),l.Lb(),l.Mb(36,"ion-checkbox",12),l.Ub("ngModelChange",(function(e){return l.gc(i),l.Wb().permisosFirma=e}))("ionChange",(function(){return l.gc(i),l.Wb().permisoFirma()})),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(37,"ion-row",13),l.Mb(38,"ion-col",4),l.Mb(39,"ion-button",14),l.Ub("click",(function(){return l.gc(i),l.Wb().entregar()})),l.kc(40," Entregar "),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&e){var n=l.Wb();l.xb(12),l.mc(" ",n.persona.personaRazonSocial,""),l.xb(4),l.mc(" ",n.persona.personaIdentificacion,""),l.xb(4),l.mc(" ",n.persona.personaCelular,""),l.xb(4),l.mc(" ",n.persona.personaCorreoElectronico,""),l.xb(12),l.Zb("ngModel",n.permisosFirma)}}var v,k,q,y=[{path:"",component:(v=function(){function i(o,n,r,t,a,s,c,b){e(this,i),this.DatosServicioService=o,this.AuthService=n,this.formBuilder=r,this.DatosEquiposService=t,this.Router=a,this.BaseService=s,this.Sweetalert=c,this.ActivatedRoute=b,this.codigo="xxxx",this.equipos=[],this.coordenadas={lat:0,lng:0},this.formularioCompleto=!1,this.personaId="",this.permisosFirma=!1,this.clientes=[],this.referencias=[],this.validation_messages={personaTipoIdentificacion:[{type:"required",message:"Tipo de identificaci\xf3n es requerido."}],personaIdentificacion:[{type:"required",message:"Identificaci\xf3n es requerida."}],personaNombres:[{type:"required",message:"Nombres es requerida."}],personaApellidos:[{type:"required",message:"Apellidos es requerida."}],personaCelular:[{type:"required",message:"Celular es requerida."}],personaCorreoElectronico:[{type:"required",message:"Correo es requerida."}]}}var n,r,t;return n=i,(r=[{key:"ngOnInit",value:function(){var e=this;this.equipos=this.DatosEquiposService.getEquipos(),this.equipos.length?(console.log("llego equipos a entrega"),console.log(this.equipos)):(this.Sweetalert.notificacion("info","Datos Insuficientes."),this.Router.navigateByUrl("menu-principal")),b.a.Geolocation.getCurrentPosition().then((function(o){console.log(o),e.coordenadas.lat=o.coords.latitude,e.coordenadas.lng=o.coords.longitude})),this.cargarClientes()}},{key:"irRuta",value:function(e){this.Router.navigateByUrl(e)}},{key:"cargarClientes",value:function(){var e=this;this.BaseService.postJson("repartidores","movimientosEquipos","clientes").subscribe((function(o){"EXITO"==o.RESPUESTA?e.clientes=o.DATOS:e.Sweetalert.modal("info","No se encontraron clientes")}))}},{key:"cargarReferencia",value:function(e){var o=this;this.formularioCompleto=!1,this.referencias=[],console.log(e),this.BaseService.postJson("repartidores","movimientosEquipos","referenciaCliente",{clienteID:e}).subscribe((function(e){console.log(e),"EXITO"==e.RESPUESTA?o.referencias=e.DATOS:o.Sweetalert.modal("info","No se encontraron clientes")}))}},{key:"mostrarFormularioCompleto",value:function(e){var o=this.referencias.filter((function(o){if(o.personaId==e)return o}));this.persona=o[0],this.formularioCompleto=!0}},{key:"entregar",value:function(){if(this.equipos.length)return console.log({firmaBase64:this.firmaBase64,coordenadas:this.coordenadas,equipos:this.equipos,persona:this.persona}),!0;this.Sweetalert.modal("info","No se encontraron equipos seleccionados.")}},{key:"firmaBase64Event",value:function(e){this.firmaBase64=e}},{key:"permisoFirma",value:function(){console.log(this.permisosFirma)}}])&&o(n.prototype,r),t&&o(n,t),i}(),v.\u0275fac=function(e){return new(e||v)(l.Hb(u.a),l.Hb(p.a),l.Hb(a.a),l.Hb(f.a),l.Hb(c.g),l.Hb(g.a),l.Hb(m.a),l.Hb(c.a))},v.\u0275cmp=l.Bb({type:v,selectors:[["app-entrega-oxigem"]],decls:27,vars:4,consts:[[1,"ion-no-border"],["slot","start"],["icon","chevron-back","defaultHref",""],[3,"fullscreen"],["size","12"],["size","12",1,"text-center"],["position","floating","color","primary"],["placeholder","Seleccione",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"firmaBase64Event"],["slot","start","color","success",3,"ngModel","ngModelChange","ionChange"],[2,"margin-bottom","5%"],["expand","block","shape","round","color","success",3,"click"]],template:function(e,o){1&e&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",1),l.Ib(3,"ion-back-button",2),l.Lb(),l.Mb(4,"ion-title"),l.kc(5,"Entregar Equipos"),l.Lb(),l.Lb(),l.Lb(),l.Mb(6,"ion-content",3),l.Kb(7),l.Mb(8,"ion-grid"),l.Mb(9,"ion-row"),l.Mb(10,"ion-col",4),l.Mb(11,"strong"),l.kc(12,"cliente"),l.Lb(),l.Lb(),l.Lb(),l.Mb(13,"ion-row"),l.Mb(14,"ion-col",5),l.Mb(15,"ion-item"),l.Mb(16,"ion-label",6),l.kc(17,"Clientes"),l.Lb(),l.Mb(18,"ion-select",7),l.Ub("ionChange",(function(e){return o.cargarReferencia(e.target.value)})),l.jc(19,h,2,3,"ion-select-option",8),l.Lb(),l.Lb(),l.Lb(),l.Mb(20,"ion-col",5),l.Mb(21,"ion-item"),l.Mb(22,"ion-label",6),l.kc(23,"Referencias"),l.Lb(),l.Mb(24,"ion-select",7),l.Ub("ionChange",(function(e){return o.mostrarFormularioCompleto(e.target.value)})),l.jc(25,M,2,3,"ion-select-option",8),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.jc(26,L,41,5,"ion-grid",9),l.Jb(),l.Lb()),2&e&&(l.xb(6),l.Zb("fullscreen",!0),l.xb(13),l.Zb("ngForOf",o.clientes),l.xb(6),l.Zb("ngForOf",o.referencias),l.xb(1),l.Zb("ngIf",o.formularioCompleto))},directives:[s.r,s.O,s.h,s.d,s.e,s.N,s.p,s.q,s.I,s.o,s.x,s.y,s.K,s.V,t.i,t.j,s.L,d.a,s.z,s.n,s.a,a.h,a.j,s.g],styles:[""]}),v)}],C=((k=function o(){e(this,o)}).\u0275mod=l.Fb({type:k}),k.\u0275inj=l.Eb({factory:function(e){return new(e||k)},imports:[[c.i.forChild(y)],c.i]}),k),E=r("ONSf"),w=((q=function o(){e(this,o)}).\u0275mod=l.Fb({type:q}),q.\u0275inj=l.Eb({factory:function(e){return new(e||q)},imports:[[t.b,a.e,s.P,C,E.a,a.k]]}),q)}}])}();