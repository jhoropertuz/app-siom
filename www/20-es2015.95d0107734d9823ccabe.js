(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{KjE0:function(e,o,i){"use strict";i.r(o),i.d(o,"EntregaOxigemPageModule",(function(){return v}));var n=i("ofXK"),r=i("3Pt+"),t=i("TEn/"),s=i("tyNb"),a=i("gcOT"),c=i("fXoL"),b=i("qMNJ"),l=i("6uu6"),u=i("fBZb"),p=i("aOlj"),f=i("Gdqo"),g=i("ZkMX");function m(e,o){if(1&e&&(c.Mb(0,"ion-select-option",10),c.kc(1),c.Lb()),2&e){const e=o.$implicit;c.ac("value",e.clienteId),c.xb(1),c.nc("",e.personaIdentificacion," - ",e.personaRazonSocial," ")}}function d(e,o){if(1&e&&(c.Mb(0,"ion-select-option",10),c.kc(1),c.Lb()),2&e){const e=o.$implicit;c.ac("value",e.personaId),c.xb(1),c.nc("",e.personaIdentificacion," - ",e.personaRazonSocial," ")}}function h(e,o){if(1&e){const e=c.Nb();c.Mb(0,"ion-grid"),c.Mb(1,"ion-row"),c.Mb(2,"ion-col",4),c.Mb(3,"strong"),c.kc(4,"Datos Persona"),c.Lb(),c.Lb(),c.Lb(),c.Mb(5,"ion-row"),c.Mb(6,"ion-col",5),c.Mb(7,"ion-item"),c.Mb(8,"ion-label"),c.Mb(9,"p"),c.Mb(10,"strong"),c.kc(11,"Nombre: "),c.Lb(),c.kc(12),c.Lb(),c.Mb(13,"p"),c.Mb(14,"strong"),c.kc(15,"Identificaci\xf3n: "),c.Lb(),c.kc(16),c.Lb(),c.Mb(17,"p"),c.Mb(18,"strong"),c.kc(19,"Celular: "),c.Lb(),c.kc(20),c.Lb(),c.Mb(21,"p"),c.Mb(22,"strong"),c.kc(23,"Correo: "),c.Lb(),c.kc(24),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(25,"ion-row"),c.Mb(26,"ion-col",4),c.Mb(27,"p"),c.kc(28,"Firma"),c.Lb(),c.Mb(29,"app-firma",11),c.Ub("firmaBase64Event",(function(o){return c.gc(e),c.Wb().firmaBase64Event(o)})),c.Lb(),c.Lb(),c.Lb(),c.Mb(30,"ion-row"),c.Mb(31,"ion-col",4),c.Mb(32,"ion-list"),c.Mb(33,"ion-item"),c.Mb(34,"ion-label"),c.kc(35,"Nos autoriza para utilizar su firma en los procesos necesarios del servicio."),c.Lb(),c.Mb(36,"ion-checkbox",12),c.Ub("ngModelChange",(function(o){return c.gc(e),c.Wb().permisosFirma=o}))("ionChange",(function(){return c.gc(e),c.Wb().permisoFirma()})),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(37,"ion-row",13),c.Mb(38,"ion-col",4),c.Mb(39,"ion-button",14),c.Ub("click",(function(){return c.gc(e),c.Wb().entregar()})),c.kc(40," Entregar "),c.Lb(),c.Lb(),c.Lb(),c.Lb()}if(2&e){const e=c.Wb();c.xb(12),c.mc(" ",e.persona.personaRazonSocial,""),c.xb(4),c.mc(" ",e.persona.personaIdentificacion,""),c.xb(4),c.mc(" ",e.persona.personaCelular,""),c.xb(4),c.mc(" ",e.persona.personaCorreoElectronico,""),c.xb(12),c.Zb("ngModel",e.permisosFirma)}}const M=[{path:"",component:(()=>{class e{constructor(e,o,i,n,r,t,s,a){this.DatosServicioService=e,this.AuthService=o,this.formBuilder=i,this.DatosEquiposService=n,this.Router=r,this.BaseService=t,this.Sweetalert=s,this.ActivatedRoute=a,this.codigo="xxxx",this.equipos=[],this.coordenadas={lat:0,lng:0},this.formularioCompleto=!1,this.personaId="",this.permisosFirma=!1,this.clientes=[],this.referencias=[],this.validation_messages={personaTipoIdentificacion:[{type:"required",message:"Tipo de identificaci\xf3n es requerido."}],personaIdentificacion:[{type:"required",message:"Identificaci\xf3n es requerida."}],personaNombres:[{type:"required",message:"Nombres es requerida."}],personaApellidos:[{type:"required",message:"Apellidos es requerida."}],personaCelular:[{type:"required",message:"Celular es requerida."}],personaCorreoElectronico:[{type:"required",message:"Correo es requerida."}]}}ngOnInit(){this.equipos=this.DatosEquiposService.getEquipos(),this.equipos.length?(console.log("llego equipos a entrega"),console.log(this.equipos)):(this.Sweetalert.notificacion("info","Datos Insuficientes."),this.Router.navigateByUrl("menu-principal")),a.a.Geolocation.getCurrentPosition().then(e=>{console.log(e),this.coordenadas.lat=e.coords.latitude,this.coordenadas.lng=e.coords.longitude}),this.cargarClientes()}irRuta(e){this.Router.navigateByUrl(e)}cargarClientes(){this.BaseService.postJson("repartidores","movimientosEquipos","clientes").subscribe(e=>{"EXITO"==e.RESPUESTA?this.clientes=e.DATOS:this.Sweetalert.modal("info","No se encontraron clientes")})}cargarReferencia(e){this.formularioCompleto=!1,this.referencias=[],console.log(e),this.BaseService.postJson("repartidores","movimientosEquipos","referenciaCliente",{clienteID:e}).subscribe(e=>{console.log(e),"EXITO"==e.RESPUESTA?this.referencias=e.DATOS:this.Sweetalert.modal("info","No se encontraron clientes")})}mostrarFormularioCompleto(e){let o=this.referencias.filter(o=>{if(o.personaId==e)return o});this.persona=o[0],this.formularioCompleto=!0}entregar(){if(this.equipos.length)return console.log({firmaBase64:this.firmaBase64,coordenadas:this.coordenadas,equipos:this.equipos,persona:this.persona}),!0;this.Sweetalert.modal("info","No se encontraron equipos seleccionados.")}firmaBase64Event(e){this.firmaBase64=e}permisoFirma(){console.log(this.permisosFirma)}}return e.\u0275fac=function(o){return new(o||e)(c.Hb(b.a),c.Hb(l.a),c.Hb(r.a),c.Hb(u.a),c.Hb(s.g),c.Hb(p.a),c.Hb(f.a),c.Hb(s.a))},e.\u0275cmp=c.Bb({type:e,selectors:[["app-entrega-oxigem"]],decls:27,vars:4,consts:[[1,"ion-no-border"],["slot","start"],["icon","chevron-back","defaultHref",""],[3,"fullscreen"],["size","12"],["size","12",1,"text-center"],["position","floating","color","primary"],["placeholder","Seleccione",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"firmaBase64Event"],["slot","start","color","success",3,"ngModel","ngModelChange","ionChange"],[2,"margin-bottom","5%"],["expand","block","shape","round","color","success",3,"click"]],template:function(e,o){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",1),c.Ib(3,"ion-back-button",2),c.Lb(),c.Mb(4,"ion-title"),c.kc(5,"Entregar Equipos"),c.Lb(),c.Lb(),c.Lb(),c.Mb(6,"ion-content",3),c.Kb(7),c.Mb(8,"ion-grid"),c.Mb(9,"ion-row"),c.Mb(10,"ion-col",4),c.Mb(11,"strong"),c.kc(12,"cliente"),c.Lb(),c.Lb(),c.Lb(),c.Mb(13,"ion-row"),c.Mb(14,"ion-col",5),c.Mb(15,"ion-item"),c.Mb(16,"ion-label",6),c.kc(17,"Clientes"),c.Lb(),c.Mb(18,"ion-select",7),c.Ub("ionChange",(function(e){return o.cargarReferencia(e.target.value)})),c.jc(19,m,2,3,"ion-select-option",8),c.Lb(),c.Lb(),c.Lb(),c.Mb(20,"ion-col",5),c.Mb(21,"ion-item"),c.Mb(22,"ion-label",6),c.kc(23,"Referencias"),c.Lb(),c.Mb(24,"ion-select",7),c.Ub("ionChange",(function(e){return o.mostrarFormularioCompleto(e.target.value)})),c.jc(25,d,2,3,"ion-select-option",8),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.jc(26,h,41,5,"ion-grid",9),c.Jb(),c.Lb()),2&e&&(c.xb(6),c.Zb("fullscreen",!0),c.xb(13),c.Zb("ngForOf",o.clientes),c.xb(6),c.Zb("ngForOf",o.referencias),c.xb(1),c.Zb("ngIf",o.formularioCompleto))},directives:[t.r,t.O,t.h,t.d,t.e,t.N,t.p,t.q,t.I,t.o,t.x,t.y,t.K,t.V,n.i,n.j,t.L,g.a,t.z,t.n,t.a,r.h,r.j,t.g],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(o){return new(o||e)},imports:[[s.i.forChild(M)],s.i]}),e})();var q=i("ONSf");let v=(()=>{class e{}return e.\u0275mod=c.Fb({type:e}),e.\u0275inj=c.Eb({factory:function(o){return new(o||e)},imports:[[n.b,r.e,t.P,L,q.a,r.k]]}),e})()}}]);