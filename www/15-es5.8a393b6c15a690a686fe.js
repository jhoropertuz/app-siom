!function(){function o(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}function n(o,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function i(o,i,e){return i&&n(o.prototype,i),e&&n(o,e),o}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{aOlj:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var r=t("mrSG"),c=t("tk/3"),a=t("ool6"),s=t("fXoL"),b=t("6uu6"),l=t("TEn/"),u=function(){var n=function(){function n(i,e,t){o(this,n),this.AuthService=i,this.http=e,this.loadingController=t,this.headers=new c.c({"Content-Type":"aplication/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH, OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers,Content-Type,Access-Control-All-Methods"})}return i(n,[{key:"presentLoading",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Cargando...",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"my-custom-class";return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.loadingController.create({cssClass:n,message:o});case 2:return e=i.sent,i.abrupt("return",(e.present(),e));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"getJson",value:function(o){return this.http.get(a.a.API_BASE+o)}},{key:"postJson",value:function(o,n,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.componente=o,e.controlador=n,e.accion=i,e.authUsuarioID=this.AuthService.getUsuario().usuarioId,this.http.post(a.a.API_BASE,e)}},{key:"putJson",value:function(o,n){return this.http.patch(a.a.API_BASE+n,o)}},{key:"login",value:function(o,n,i){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.componente=o,e.controlador=n,e.accion=i,this.http.post(a.a.API_BASE,e)}}]),n}();return n.\u0275fac=function(o){return new(o||n)(s.Rb(b.a),s.Rb(c.a),s.Rb(l.R))},n.\u0275prov=s.Eb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},fBZb:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var r=t("fXoL"),c=function(){var n=function(){function n(){o(this,n),this.equipos=[],this.cliente=[]}return i(n,[{key:"setEquipos",value:function(o){var n=this;return new Promise((function(i,e){return n.equipos=o,console.log("promesa set eqipo"),i(!0)}))}},{key:"getEquipos",value:function(){return this.equipos}},{key:"deleteEquipos",value:function(){this.equipos=[]}}]),n}();return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=r.Eb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},ool6:function(o,n,i){"use strict";i.d(n,"a",(function(){return e}));var e={API_BASE:"https://siom.oximeiser.com/api.php",ARCHIVO_BASE:"https://siom.oximeiser.com/"}},zECf:function(n,e,t){"use strict";t.r(e),t.d(e,"HistorialRepartoPageModule",(function(){return E}));var r=t("ofXK"),c=t("3Pt+"),a=t("TEn/"),s=t("tyNb"),b=t("fXoL"),l=t("fBZb"),u=t("aOlj"),d=t("Gdqo"),f=function(o,n){return{animate__backInRight:o,animate__backOutRight:n}};function h(o,n){if(1&o){var i=b.Ob();b.Nb(0,"ion-searchbar",9),b.Vb("ionChange",(function(o){return b.hc(i),b.Xb().ChangeSearchbar(o.target.value)})),b.Mb()}if(2&o){var e=b.Xb();b.ac("ngClass",b.ec(1,f,e.buscarAnimacion,!e.buscarAnimacion))}}var p=function(o){return{ENREPARTO:o}};function g(o,n){if(1&o){var i=b.Ob();b.Nb(0,"ion-col",13),b.Nb(1,"ion-item",14),b.Nb(2,"ion-grid"),b.Nb(3,"ion-row",15),b.Nb(4,"ion-col",16),b.Nb(5,"h4"),b.Nb(6,"strong"),b.lc(7),b.Mb(),b.Mb(),b.Nb(8,"span"),b.lc(9),b.Mb(),b.Jb(10,"br"),b.Nb(11,"span"),b.lc(12,"Cliente : "),b.Nb(13,"strong"),b.lc(14),b.Mb(),b.Mb(),b.Mb(),b.Nb(15,"ion-col",17),b.Nb(16,"ion-button",18),b.Vb("click",(function(){b.hc(i);var o=n.$implicit;return b.Xb(2).seleccionarEquipo(o)})),b.Jb(17,"ion-icon",19),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()}if(2&o){var e=n.$implicit;b.xb(1),b.zb("animate__animated animate__fadeInUpBig  ",e.reciboEstadoReparto,""),b.ac("ngClass",b.dc(8,p,"EN REPARTO"==e.reciboEstadoReparto)),b.xb(6),b.nc(" Servicio : ",e.reciboNumero,""),b.xb(2),b.nc("Estado : ",e.reciboEstadoReparto," "),b.xb(5),b.oc("",e.personaIdentificacion," | ",e.personaRazonSocial,"")}}function m(o,n){if(1&o){var i=b.Ob();b.Nb(0,"ion-row"),b.kc(1,g,18,10,"ion-col",10),b.Nb(2,"ion-infinite-scroll",11),b.Vb("ionInfinite",(function(o){return b.hc(i),b.Xb().loadData(o)})),b.Jb(3,"ion-infinite-scroll-content",12),b.Mb(),b.Mb()}if(2&o){var e=b.Xb();b.xb(1),b.ac("ngForOf",e.listado)}}function v(o,n){if(1&o){var i=b.Ob();b.Nb(0,"ion-row"),b.Nb(1,"ion-col",20),b.Nb(2,"ion-item",21),b.Nb(3,"ion-grid"),b.Nb(4,"ion-row",15),b.Nb(5,"ion-col",22),b.Nb(6,"ion-label"),b.Nb(7,"ion-button",23),b.Vb("click",(function(){return b.hc(i),b.Xb().cancelarSeleccion()})),b.lc(8,"Listado"),b.Mb(),b.Mb(),b.Mb(),b.Nb(9,"ion-col",20),b.Nb(10,"ion-label",24),b.Nb(11,"ion-text",25),b.Nb(12,"h2"),b.lc(13,"Cliente"),b.Mb(),b.Mb(),b.Nb(14,"strong"),b.lc(15,"Nombre:"),b.Mb(),b.lc(16),b.Jb(17,"br"),b.Nb(18,"strong"),b.lc(19,"CC:"),b.Mb(),b.lc(20),b.Jb(21,"br"),b.Nb(22,"strong"),b.lc(23,"Codigo Cliente:"),b.Mb(),b.lc(24),b.Jb(25,"br"),b.Nb(26,"strong"),b.lc(27,"Correo:"),b.Mb(),b.lc(28),b.Jb(29,"br"),b.Jb(30,"br"),b.Nb(31,"ion-text",25),b.Nb(32,"h2"),b.lc(33,"Recibo"),b.Mb(),b.Mb(),b.Nb(34,"strong"),b.lc(35,"Numero:"),b.Mb(),b.lc(36),b.Jb(37,"br"),b.Nb(38,"strong"),b.lc(39,"Servicio:"),b.Mb(),b.lc(40),b.Jb(41,"br"),b.Nb(42,"strong"),b.lc(43,"Fecha Servicio:"),b.Mb(),b.lc(44),b.Jb(45,"br"),b.Nb(46,"strong"),b.lc(47,"Fecha recogida:"),b.Mb(),b.lc(48),b.Jb(49,"br"),b.Jb(50,"br"),b.Nb(51,"ion-item",21),b.Nb(52,"ion-grid"),b.Nb(53,"ion-row",15),b.Nb(54,"ion-col",26),b.Jb(55,"img",27),b.Mb(),b.Nb(56,"ion-col",28),b.Nb(57,"ion-label"),b.Nb(58,"strong"),b.lc(59),b.Mb(),b.Jb(60,"br"),b.Nb(61,"a",29),b.lc(62),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()}if(2&o){var e=b.Xb();b.xb(16),b.nc(" ",e.equipoSeleccionado.personaRazonSocial,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.personaIdentificacion,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.clienteCodigo,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.personaCorreoElectronico,""),b.xb(8),b.nc(" ",e.equipoSeleccionado.reciboNumero,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.reciboServicio,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.reciboFechaServicio,""),b.xb(4),b.nc(" ",e.equipoSeleccionado.reciboFechaRecogida,""),b.xb(11),b.mc(e.equipoSeleccionado.documentoTITULO),b.xb(2),b.bc("href",e.equipoSeleccionado.documentoURL,b.ic),b.cc("download","",e.equipoSeleccionado.servicioCODIGO,".pdf"),b.xb(1),b.nc(" Decargar recibo de Servicio ",e.equipoSeleccionado.servicioCODIGO,"")}}var M,N,C,O=[{path:"",component:(M=function(){function n(i,e,t,r,c,a){o(this,n),this.DatosEquiposService=i,this.Router=e,this.ActivatedRoute=t,this.BaseService=r,this.Sweetalert=c,this.MenuController=a,this.cantidadItemLista=10,this.inicioItemLista=0,this.buscadorActivo=!1,this.buscar=!1,this.buscarAnimacion=!1,this.listado=[],this.listadoFilter=[],this.listadoTodos=[],this.mostrarSeleccionado=!1,this.COLORES_ESTADOS={ENSERVICIO:"#6AD64D",RECOGIDO:"#6AE4FC",PERDIDA:"#FC588F",NOFUNCIONO:"#FC588F",PORENTREGAR:"#F90244",ENREPARTO:"#F99C2A"}}return i(n,[{key:"ngOnInit",value:function(){this.MenuController.enable(!0,"menu"),this.getListado()}},{key:"cancelarSeleccion",value:function(){this.inicioLista()}},{key:"inicioLista",value:function(){this.mostrarSeleccionado=!1}},{key:"seleccionarEquipo",value:function(o){o.otrosPendientes=[],this.equipoSeleccionado=o,this.buscadorActivo&&this.buscador(),this.mostrarSeleccionado=!0}},{key:"loadData",value:function(o){}},{key:"toggleInfiniteScroll",value:function(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled}},{key:"buscador",value:function(){var o=this;this.buscar?(this.buscarAnimacion=!1,setTimeout((function(){o.buscar=!1,o.ChangeSearchbar("")}),900)):(this.buscar=!0,this.buscarAnimacion=!0)}},{key:"getListado",value:function(){var o=this;this.BaseService.postJson("repartidores","repartosUsuario","historialApi",{}).subscribe((function(n){(n.RESPUESTA="EXITO")?n.DATOS?(o.listadoTodos=[].concat(o.listadoTodos,n.DATOS),o.listado=o.listadoTodos,o.listadoFilter=o.listadoTodos,console.log(o.listadoTodos)):o.Sweetalert.notificacion("info",n.MENSAJE):o.Sweetalert.modal("error",n.MENSAJE),o.eventCargandoLista&&o.eventCargandoLista.target.complete()}))}},{key:"reiniciar",value:function(){this.listadoTodos=[],this.listado=[],this.listadoFilter=[]}},{key:"doRefresh",value:function(o){this.inicioItemLista=0,this.reiniciar(),this.getListado(),setTimeout((function(){o.target.complete()}),1e3)}},{key:"ChangeSearchbar",value:function(o){var n=this,i=o;i&&""!==i.trim()&&i.length>3?(this.buscadorActivo=!0,this.BaseService.postJson("repartidores","","",{datoBusqueda:o}).subscribe((function(o){(o.RESPUESTA="EXITO")?o.DATOS?n.listado=o.DATOS:(n.listado=[],n.Sweetalert.notificacion("info","No se encontraron equipos.")):n.Sweetalert.modal("error",o.mensaje)}))):(this.buscadorActivo=!1,this.listado=this.listadoTodos)}}]),n}(),M.\u0275fac=function(o){return new(o||M)(b.Ib(l.a),b.Ib(s.g),b.Ib(s.a),b.Ib(u.a),b.Ib(d.a),b.Ib(a.S))},M.\u0275cmp=b.Cb({type:M,selectors:[["app-historial-reparto"]],viewQuery:function(o,n){var i;1&o&&b.pc(a.u,!0),2&o&&b.fc(i=b.Wb())&&(n.infiniteScroll=i.first)},decls:14,vars:4,consts:[[1,"ion-no-border"],["slot","start"],["icon","chevron-back"],["slot","end"],[3,"fullscreen"],["color","primary","placeholder","Buscar","style","margin-bottom: 40%;","autocomplete","On","style","position:fixed; z-index: 100;","class","animate__animated  ",3,"ngClass","ionChange",4,"ngIf"],["slot","fixed",3,"ionRefresh"],[1,"ion-padding"],[4,"ngIf"],["color","primary","placeholder","Buscar","autocomplete","On",1,"animate__animated",2,"position","fixed","z-index","100",3,"ngClass","ionChange"],["size-lg","6","size","12",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Cargando..."],["size-lg","6","size","12"],["lines","none",2,"margin","2px",3,"ngClass"],[1,"ion-align-items-center"],["size","9"],["size","3",1,"text-right"],["fill","clear","size","large",3,"click"],["name","chevron-forward","slot","end",1,"ion-icon-a"],["size","12"],["lines","none",1,"animate__animated","animate__fadeInUpBig",2,"margin","2px"],["size","12",2,"margin-bottom","5%"],["color","primary",3,"click"],[1,"ion-text-wrap","text-center"],["color","primary"],["size","4"],["src","https://siom.oximeiser.com/libs/media/PDF-logo.png","alt","iconPDF",2,"width","100%"],["size","8"],["ion-button","","size","small","target","_blank",3,"href","download"]],template:function(o,n){1&o&&(b.Nb(0,"ion-header",0),b.Nb(1,"ion-toolbar"),b.Nb(2,"ion-title"),b.lc(3,"Historial"),b.Mb(),b.Nb(4,"ion-buttons",1),b.Jb(5,"ion-back-button",2),b.Mb(),b.Jb(6,"ion-buttons",3),b.Mb(),b.Mb(),b.Nb(7,"ion-content",4),b.kc(8,h,1,4,"ion-searchbar",5),b.Nb(9,"ion-refresher",6),b.Vb("ionRefresh",(function(o){return n.doRefresh(o)})),b.Jb(10,"ion-refresher-content"),b.Mb(),b.Nb(11,"div",7),b.kc(12,m,4,1,"ion-row",8),b.kc(13,v,63,12,"ion-row",8),b.Mb(),b.Mb()),2&o&&(b.xb(7),b.ac("fullscreen",!0),b.xb(1),b.ac("ngIf",n.buscar),b.xb(4),b.ac("ngIf",!n.mostrarSeleccionado),b.xb(1),b.ac("ngIf",n.mostrarSeleccionado))},directives:[a.r,a.O,a.N,a.h,a.d,a.e,a.p,r.j,a.F,a.G,a.J,a.W,r.h,a.I,r.i,a.u,a.v,a.o,a.x,a.q,a.g,a.s,a.y,a.M],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:#003f7f;color:#fff;border-radius:0 0 20% 20%}ion-col[_ngcontent-%COMP%]{padding:0}ion-content[_ngcontent-%COMP%]{--background:#f6f6f6}ion-card[_ngcontent-%COMP%]{margin-top:-180px;z-index:10;padding:6px;box-shadow:none;box-shadow:0 3px 45px 0 rgba(0,0,0,.16);border-radius:40px;overflow:visible}ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:240px;margin:-60px auto auto}ion-item[_ngcontent-%COMP%]{border-radius:14px;box-shadow:0 3px 45px 0 rgba(0,0,0,.08);color:#949494;margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:first-of-type{color:#fff;padding:4px;border-radius:12px}.ion-icon-a[_ngcontent-%COMP%]{background:#31d039;color:#fff}.ion-icon-b[_ngcontent-%COMP%]{background:#316dd0;color:#fff;padding:4px;border-radius:12px}.sato-lineas[_ngcontent-%COMP%]{line-height:1px}.ENSERVICIO[_ngcontent-%COMP%]{border:solid #6ad64d}.RECOGIDA[_ngcontent-%COMP%]{border:solid #6ae4fc}.NOFUNCIONO[_ngcontent-%COMP%], .PERDIDA[_ngcontent-%COMP%]{border:solid #fc588f}.PORENTREGAR[_ngcontent-%COMP%]{border:solid #f90244}.ENREPARTO[_ngcontent-%COMP%]{border:solid #f99c2a}.ENTREGADO[_ngcontent-%COMP%]{border:solid #6ae4fc}.PENDIENTE[_ngcontent-%COMP%]{border:solid #fc588f}"]}),M)}],S=((C=function n(){o(this,n)}).\u0275mod=b.Gb({type:C}),C.\u0275inj=b.Fb({factory:function(o){return new(o||C)},imports:[[s.i.forChild(O)],s.i]}),C),E=((N=function n(){o(this,n)}).\u0275mod=b.Gb({type:N}),N.\u0275inj=b.Fb({factory:function(o){return new(o||N)},imports:[[r.b,c.e,a.P,S]]}),N)}}])}();