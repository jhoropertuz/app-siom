{"version":3,"sources":["webpack:///src/app/paginasInternas/recoger-oxigem/recoger-oxigem.page.html","webpack:///src/app/paginasInternas/recoger-oxigem/recoger-oxigem-routing.module.ts","webpack:///src/app/paginasInternas/recoger-oxigem/recoger-oxigem.module.ts","webpack:///src/app/paginasInternas/recoger-oxigem/recoger-oxigem.page.scss","webpack:///src/app/paginasInternas/recoger-oxigem/recoger-oxigem.page.ts"],"names":["routes","path","component","RecogerOxigemPageRoutingModule","imports","forChild","exports","RecogerOxigemPageModule","declarations","providers","RecogerOxigemPage","DatosServicioService","AuthService","formBuilder","DatosEquiposService","Router","BaseService","Sweetalert","ActivatedRoute","codigo","coordenadas","lat","lng","registrarPersona","formularioCompleto","personaId","permisosFirma","validation_messages","type","message","equipos","getEquipos","length","console","log","notificacion","navigateByUrl","form_persona","group","personaTipoIdentificacion","compose","required","personaIdentificacion","form_registrar_persona","personaNombres","personaApellidos","personaCelular","personaCorreoElectronico","Geolocation","getCurrentPosition","then","result","coords","latitude","longitude","get","valueChanges","subscribe","x","ruta","value","loading","presentLoading","postJson","res","RESPUESTA","DATOS","controls","setValue","modal","MENSAJE","e","dismiss","Camera","getPhoto","quality","allowEditing","resultType","CameraResultType","Uri","image","imageUrl","webPath","firmaBase64","persona","Object","assign","equiposID","map","equipoID","equipoId","clienteID","clienteId","clientePersona","estadoEntregaEquipo","reciboReferencia","datos","deleteEquipos","setRecibosServico","$event","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,8BAA8B;AAAA;AAAA,O;;AAA9BA,oCAA8B,6DAJ1C,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI0C,GAA9BH,8BAA8B,CAA9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCSAI,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAdnC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,6FAJO,EAKP,0EALO,EAMP,kEANO,CADD;AASRI,oBAAY,EAAE,CAAC,sEAAD,CATN;AAURC,iBAAS,EAAC;AAVF,OAAT,CAcmC,GAAvBF,uBAAuB,CAAvB;;;;;;;;;;;;;;;;ACzBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCeFG,iBAAiB;AAa5B,mCAAmBC,oBAAnB,EAAqEC,WAArE,EAAqGC,WAArG,EAAqIC,mBAArI,EAAqLC,MAArL,EAA2MC,WAA3M,EAA2OC,UAA3O,EAAgRC,cAAhR,EAAgT;AAAA;;AAA7R,eAAAP,oBAAA,GAAAA,oBAAA;AAAkD,eAAAC,WAAA,GAAAA,WAAA;AAAgC,eAAAC,WAAA,GAAAA,WAAA;AAAgC,eAAAC,mBAAA,GAAAA,mBAAA;AAAgD,eAAAC,MAAA,GAAAA,MAAA;AAAsB,eAAAC,WAAA,GAAAA,WAAA;AAAgC,eAAAC,UAAA,GAAAA,UAAA;AAAqC,eAAAC,cAAA,GAAAA,cAAA;AAXhR,eAAAC,MAAA,GAAO,MAAP;AAIA,eAAAC,WAAA,GAAY;AAACC,eAAG,EAAC,CAAL;AAAOC,eAAG,EAAC;AAAX,WAAZ;AAGA,eAAAC,gBAAA,GAAiB,KAAjB;AACA,eAAAC,kBAAA,GAAmB,KAAnB;AACA,eAAAC,SAAA,GAAU,EAAV;AACA,eAAAC,aAAA,GAAsB,KAAtB;AA2CA,eAAAC,mBAAA,GAAsB;AACpB,yCAA6B,CAC3B;AAAEC,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aAD2B,CADT;AAIpB,qCAAyB,CACvB;AAAED,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aADuB,CAJL;AAOpB,8BAAkB,CAChB;AAAED,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aADgB,CAPE;AAUpB,gCAAoB,CAClB;AAAED,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aADkB,CAVA;AAapB,8BAAkB,CAChB;AAAED,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aADgB,CAbE;AAgBpB,wCAA4B,CAC1B;AAAED,kBAAI,EAAE,UAAR;AAAoBC,qBAAO,EAAE;AAA7B,aAD0B;AAhBR,WAAtB;AAvCC;;AAhB2B;AAAA;AAAA,qCAkBjB;AAAA;;AACT,iBAAKC,OAAL,GAAa,KAAKhB,mBAAL,CAAyBiB,UAAzB,EAAb;;AACA,gBAAG,KAAKD,OAAL,CAAaE,MAAhB,EAAuB;AACrBC,qBAAO,CAACC,GAAR,CAAY,sBAAZ;AACAD,qBAAO,CAACC,GAAR,CAAY,KAAKJ,OAAjB;AACD,aAHD,MAGK;AACD,mBAAKb,UAAL,CAAgBkB,YAAhB,CAA6B,MAA7B,EAAoC,sBAApC;AACA,mBAAKpB,MAAL,CAAYqB,aAAZ,CAA0B,gBAA1B;AACH;;AAED,iBAAKC,YAAL,GAAoB,KAAKxB,WAAL,CAAiByB,KAAjB,CAAuB;AACzCC,uCAAyB,EAAE,IAAI,0DAAJ,CAAgB,GAAhB,EAAqB,0DAAWC,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAArB,CADc;AAEzCC,mCAAqB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWF,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAApB;AAFkB,aAAvB,CAApB;AAKA,iBAAKE,sBAAL,GAA8B,KAAK9B,WAAL,CAAiByB,KAAjB,CAAuB;AACnDM,4BAAc,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWJ,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAApB,CADmC;AAEnDI,8BAAgB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWL,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAApB,CAFiC;AAGnDK,4BAAc,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWN,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAApB,CAHmC;AAInDM,sCAAwB,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWP,OAAX,CAAmB,CAAC,0DAAWC,QAAZ,CAAnB,CAApB;AAJyB,aAAvB,CAA9B;;AAOA,oEAAQO,WAAR,CAAoBC,kBAApB,GAAyCC,IAAzC,CAA8C,UAAAC,MAAM,EAAI;AACtDlB,qBAAO,CAACC,GAAR,CAAYiB,MAAZ;AACA,mBAAI,CAAC/B,WAAL,CAAiBC,GAAjB,GAAuB8B,MAAM,CAACC,MAAP,CAAcC,QAArC;AACA,mBAAI,CAACjC,WAAL,CAAiBE,GAAjB,GAAuB6B,MAAM,CAACC,MAAP,CAAcE,SAArC;AACD,aAJD;AAMA;;;AAEA,iBAAKjB,YAAL,CAAkBkB,GAAlB,CAAsB,uBAAtB,EAA+CC,YAA/C,CAA4DC,SAA5D,CAAsE,UAAAC,CAAC,EAAI;AACzE,mBAAI,CAACnC,gBAAL,GAAsB,KAAtB;AACA,mBAAI,CAACC,kBAAL,GAAwB,KAAxB;AACF,aAHA;AAKD;AArD2B;AAAA;AAAA,iCA4ErBmC,IA5EqB,EA4EjB;AACT,iBAAK5C,MAAL,CAAYqB,aAAZ,CAA0BuB,IAA1B;AACD;AA9E2B;AAAA;AAAA,wCA+EdC,KA/Ec,EA+ET;AAAA;;AACjB,iBAAKrC,gBAAL,GAAsB,KAAtB;AACA,iBAAKC,kBAAL,GAAwB,KAAxB;AACA,gBAAIqC,OAAO,GAAC,KAAK7C,WAAL,CAAiB8C,cAAjB,EAAZ;AACA,iBAAK9C,WAAL,CAAiB+C,QAAjB,CAA0B,UAA1B,EAAqC,YAArC,EAAkD,6BAAlD,EAAgFH,KAAhF,EAAuFH,SAAvF,CAAiG,UAAAO,GAAG,EAAE;AACpG/B,qBAAO,CAACC,GAAR,CAAY8B,GAAZ;;AACA,kBAAIA,GAAG,CAACC,SAAJ,IAAe,OAAnB,EAA4B;AAC1B,sBAAI,CAACzC,kBAAL,GAAwB,IAAxB;AACA,sBAAI,CAACD,gBAAL,GAAsB,IAAtB;AACA,sBAAI,CAACE,SAAL,GAAeuC,GAAG,CAACE,KAAJ,CAAUzC,SAAzB;;AACA,sBAAI,CAACkB,sBAAL,CAA4BwB,QAA5B,CAAqC,gBAArC,EAAuDC,QAAvD,CAAgEJ,GAAG,CAACE,KAAJ,CAAUtB,cAA1E;;AACA,sBAAI,CAACD,sBAAL,CAA4BwB,QAA5B,CAAqC,kBAArC,EAAyDC,QAAzD,CAAkEJ,GAAG,CAACE,KAAJ,CAAUrB,gBAA5E;;AACA,sBAAI,CAACF,sBAAL,CAA4BwB,QAA5B,CAAqC,gBAArC,EAAuDC,QAAvD,CAAgEJ,GAAG,CAACE,KAAJ,CAAUpB,cAA1E;;AACA,sBAAI,CAACH,sBAAL,CAA4BwB,QAA5B,CAAqC,0BAArC,EAAiEC,QAAjE,CAA0EJ,GAAG,CAACE,KAAJ,CAAUnB,wBAApF;AACD,eARD,MAQM,IAAGiB,GAAG,CAACC,SAAJ,IAAe,MAAlB,EAAyB;AAC7B,sBAAI,CAACzC,kBAAL,GAAwB,IAAxB;AACA,sBAAI,CAACD,gBAAL,GAAsB,IAAtB;AACA,sBAAI,CAACE,SAAL,GAAe,EAAf;;AACA,sBAAI,CAACkB,sBAAL,CAA4BwB,QAA5B,CAAqC,gBAArC,EAAuDC,QAAvD,CAAgE,EAAhE;;AACA,sBAAI,CAACzB,sBAAL,CAA4BwB,QAA5B,CAAqC,kBAArC,EAAyDC,QAAzD,CAAkE,EAAlE;;AACA,sBAAI,CAACzB,sBAAL,CAA4BwB,QAA5B,CAAqC,gBAArC,EAAuDC,QAAvD,CAAgE,EAAhE;;AACA,sBAAI,CAACzB,sBAAL,CAA4BwB,QAA5B,CAAqC,0BAArC,EAAiEC,QAAjE,CAA0E,EAA1E;AACD,eARK,MAQD;AACH,sBAAI,CAACnD,UAAL,CAAgBoD,KAAhB,CAAsB,OAAtB,EAA8BL,GAAG,CAACM,OAAlC;;AACA,sBAAI,CAAC7C,SAAL,GAAe,EAAf;AACD;;AACDoC,qBAAO,CAACX,IAAR,CAAa,UAAAqB,CAAC,EAAE;AACdA,iBAAC,CAACC,OAAF;AAAa,eADf;AAED,aAxBD;AAyBD;AA5G2B;AAAA;AAAA,wCA8GX;;;;;;;;AACH,6BAAM,wDAAQC,MAAR,CAAeC,QAAf,CAAwB;AACxCC,+BAAO,EAAE,EAD+B;AAExCC,oCAAY,EAAE,IAF0B;AAGxCC,kCAAU,EAAE,wDAAQC,gBAAR,CAAyBC;AAHG,uBAAxB,CAAN;;;AAARC,2B;;AAKL;AACMC,8B,GAAWD,KAAK,CAACE,O;AACtBjD,6BAAO,CAACC,GAAR,CAAY8C,KAAZ;;;;;;;;;AACD;AAvH2B;AAAA;AAAA,qCA2HpB;AAAA;;AAEN,gBAAG,KAAKtD,aAAL,IAAsB,KAAKyD,WAA3B,IAA0C,KAAKrD,OAAL,CAAaE,MAAb,GAAoB,CAAjE,EAAmE;AACjE,kBAAIoD,OAAO,GAACC,MAAM,CAACC,MAAP,CAAc,KAAK3C,sBAAL,CAA4BiB,KAA1C,EAAiD,KAAKvB,YAAL,CAAkBuB,KAAnE,CAAZ;AACAwB,qBAAO,CAAC3D,SAAR,GAAkB,KAAKA,SAAvB;AACA,kBAAI8D,SAAS,GAAC,KAAKzD,OAAL,CAAa0D,GAAb,CAAiB,UAAAxB,GAAG,EAAE;AAAC,uBAAO;AAACyB,0BAAQ,EAACzB,GAAG,CAAC0B,QAAd;AAAuBC,2BAAS,EAAC3B,GAAG,CAAC4B,SAArC;AAA+CC,gCAAc,EAAC7B,GAAG,CAAC6B,cAAlE;AAAiFC,qCAAmB,EAAC9B,GAAG,CAAC8B,mBAAzG;AAA6HC,kCAAgB,EAAC/B,GAAG,CAAC+B;AAAlJ,iBAAP;AAA4K,eAAnM,CAAd;AACA,kBAAIC,KAAK,GAAC;AACRb,2BAAW,EAAC,KAAKA,WADT;AAER/D,2BAAW,EAAC,KAAKA,WAFT;AAGRU,uBAAO,EAACyD,SAHA;AAIRH,uBAAO,EAACA;AAJA,eAAV;AAMAnD,qBAAO,CAACC,GAAR,CAAY8D,KAAZ;AACA,kBAAInC,OAAO,GAAC,KAAK7C,WAAL,CAAiB8C,cAAjB,EAAZ;AACA,mBAAK9C,WAAL,CAAiB+C,QAAjB,CAA0B,cAA1B,EAAyC,gBAAzC,EAA0D,0BAA1D,EAAqFiC,KAArF,EAA4FvC,SAA5F,CAAsG,UAAAO,GAAG,EAAE;AACzG/B,uBAAO,CAACC,GAAR,CAAY8B,GAAZ;;AACA,oBAAIA,GAAG,CAACC,SAAJ,GAAc,OAAlB,EAA2B;AACzB,wBAAI,CAACnD,mBAAL,CAAyBmF,aAAzB;;AACA,wBAAI,CAAChF,UAAL,CAAgBkB,YAAhB,CAA6B,SAA7B,EAAuC,qBAAvC;;AACA,wBAAI,CAACxB,oBAAL,CAA0BuF,iBAA1B,CAA4ClC,GAAG,CAACE,KAAhD;;AACA,wBAAI,CAACnD,MAAL,CAAYqB,aAAZ,CAA0B,mBAA1B;AACD,iBALD,MAKK;AACH,wBAAI,CAACnB,UAAL,CAAgBoD,KAAhB,CAAsB,OAAtB,EAA8BL,GAAG,CAACM,OAAlC;AACD;;AACDT,uBAAO,CAACX,IAAR,CAAa,UAAAqB,CAAC,EAAE;AACdA,mBAAC,CAACC,OAAF;AAAa,iBADf;AAED,eAZD;AAaD,aAzBD,MAyBK;AACH,mBAAKvD,UAAL,CAAgBoD,KAAhB,CAAsB,MAAtB,EAA6B,wCAA7B;AACD;AAGF;AA3J2B;AAAA;AAAA,2CA6JX8B,MA7JW,EA6JL;AACrB,iBAAKhB,WAAL,GAAiBgB,MAAjB;AACD;AA/J2B;AAAA;AAAA,yCAiKhB;AACVlE,mBAAO,CAACC,GAAR,CAAY,KAAKR,aAAjB;AACD;AAnK2B;;AAAA;AAAA,S;;;;gBANrB;;gBADA;;gBAPY;;gBAGZ;;gBAFgB;;gBAChB;;gBAEA;;gBAHA;;;;AAaIhB,uBAAiB,6DAL7B,gEAAU;AACT0F,gBAAQ,EAAE,oBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,8HAFS;;;;AAAA,OAAV,CAK6B,GAAjB3F,iBAAiB,CAAjB","file":"paginasInternas-recoger-oxigem-recoger-oxigem-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\"  >\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button icon=\\\"chevron-back\\\" defaultHref=\\\"\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Recoger Equipo</ion-title>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ng-container >\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\" >\\r\\n          {{equipos.length}} Equipos a recoger\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row >\\r\\n        <ion-col size=\\\"12\\\" >\\r\\n          <strong>Persona que entrega los equipos.</strong>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row >\\r\\n        <ion-col size=\\\"12\\\"  class=\\\"text-center\\\">\\r\\n          <form [formGroup]=\\\"form_persona\\\"\\r\\n          (ngSubmit)=\\\"buscarPersona(form_persona.value)\\\">\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Tipo identificación</ion-label>\\r\\n              <ion-select  formControlName=\\\"personaTipoIdentificacion\\\" placeholder=\\\"Seleccione\\\">\\r\\n                    <ion-select-option value=\\\"1\\\">CC</ion-select-option>\\r\\n                    <ion-select-option value=\\\"2\\\">NIT</ion-select-option>\\r\\n              </ion-select>\\r\\n            </ion-item>\\r\\n            <div class=\\\"validation-errors\\\">\\r\\n              <ng-container *ngFor=\\\"let validation of\\r\\n                validation_messages.personaTipoIdentificacion\\\">\\r\\n                <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                  width: 100%\\\" class=\\\"error-message\\\"\\r\\n                  *ngIf=\\\"form_persona.get('personaTipoIdentificacion').hasError(validation.type)\\r\\n                  && (form_persona.get('personaTipoIdentificacion').dirty ||\\r\\n                  form_persona.get('personaTipoIdentificacion').touched)\\\">\\r\\n                  <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                  validation.message }}\\r\\n                </ion-text>\\r\\n              </ng-container>\\r\\n            </div>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Identificación</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"personaIdentificacion\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of\\r\\n              validation_messages.personaIdentificacion\\\">\\r\\n              <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                width: 100%\\\" class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"form_persona.get('personaIdentificacion').hasError(validation.type)\\r\\n                && (form_persona.get('personaIdentificacion').dirty ||\\r\\n                form_persona.get('personaIdentificacion').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                validation.message }}\\r\\n              </ion-text>\\r\\n            </ng-container>\\r\\n          </div>\\r\\n            <ion-button color=\\\"primary\\\" style=\\\"margin-top: 50px;\\\"\\r\\n              class=\\\"submit-btn\\\"expand=\\\"full\\\" type=\\\"submit\\\"\\r\\n              [disabled]=\\\"!form_persona.valid\\\">Buscar</ion-button>\\r\\n          </form>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  \\r\\n    <ion-grid  *ngIf=\\\"registrarPersona\\\" >\\r\\n      <ion-row >\\r\\n        <ion-col size=\\\"12\\\" >\\r\\n          <strong>Datos Persona </strong>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row >\\r\\n        <ion-col size=\\\"12\\\"  class=\\\"text-center\\\">\\r\\n          <form [formGroup]=\\\"form_registrar_persona\\\">\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Nombres</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"personaNombres\\\"></ion-input>\\r\\n          </ion-item>\\r\\n         <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of\\r\\n              validation_messages.personaNombres\\\">\\r\\n              <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                width: 100%\\\" class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"form_registrar_persona.get('personaNombres').hasError(validation.type)\\r\\n                && (form_registrar_persona.get('personaNombres').dirty ||\\r\\n                form_registrar_persona.get('personaNombres').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                validation.message }}\\r\\n              </ion-text>\\r\\n            </ng-container>\\r\\n          </div> \\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Apellidos</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"personaApellidos\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of\\r\\n              validation_messages.personaApellidos\\\">\\r\\n              <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                width: 100%\\\" class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"form_registrar_persona.get('personaApellidos').hasError(validation.type)\\r\\n                && (form_registrar_persona.get('personaApellidos').dirty ||\\r\\n                form_registrar_persona.get('personaApellidos').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                validation.message }}\\r\\n              </ion-text>\\r\\n            </ng-container>\\r\\n          </div> \\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Numero celular</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"personaCelular\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of\\r\\n              validation_messages.personaCelular\\\">\\r\\n              <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                width: 100%\\\" class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"form_registrar_persona.get('personaCelular').hasError(validation.type)\\r\\n                && (form_registrar_persona.get('personaCelular').dirty ||\\r\\n                form_registrar_persona.get('personaCelular').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                validation.message }}\\r\\n              </ion-text>\\r\\n            </ng-container>\\r\\n          </div> \\r\\n  \\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Correo electronico</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"personaCorreoElectronico\\\"></ion-input>\\r\\n          </ion-item>\\r\\n          <div class=\\\"validation-errors\\\">\\r\\n            <ng-container *ngFor=\\\"let validation of\\r\\n              validation_messages.personaCorreoElectronico\\\">\\r\\n              <ion-text color=\\\"danger\\\" style=\\\"display:block;float: none;\\r\\n                width: 100%\\\" class=\\\"error-message\\\"\\r\\n                *ngIf=\\\"form_registrar_persona.get('personaCorreoElectronico').hasError(validation.type)\\r\\n                && (form_registrar_persona.get('personaCorreoElectronico').dirty ||\\r\\n                form_registrar_persona.get('personaCorreoElectronico').touched)\\\">\\r\\n                <ion-icon name=\\\"information-circle-outline\\\"></ion-icon> {{\\r\\n                validation.message }}\\r\\n              </ion-text>\\r\\n            </ng-container>\\r\\n          </div> \\r\\n          </form>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n   \\r\\n    <ion-grid *ngIf=\\\"formularioCompleto\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <p>Firma</p>\\r\\n          <app-firma (firmaBase64Event)=\\\"firmaBase64Event($event)\\\"></app-firma>\\r\\n        </ion-col>\\r\\n        <!-- <ion-col size=\\\"12\\\">\\r\\n          <img src=\\\"{{firmaBase64}}\\\" />\\r\\n        </ion-col> -->\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-list>\\r\\n            <ion-item>\\r\\n              <ion-label>Nos autoriza para utilizar su firma en los procesos necesarios del servicio.</ion-label>\\r\\n              <ion-checkbox slot=\\\"start\\\" color=\\\"success\\\" [(ngModel)]=\\\"permisosFirma\\\" (ionChange)=\\\"permisoFirma()\\\"></ion-checkbox>\\r\\n            </ion-item>\\r\\n          </ion-list>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row style=\\\"margin-bottom: 20%;\\\">\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-button (click)=\\\"recogido()\\\" [disabled]=\\\"!form_registrar_persona.valid\\\" expand=\\\"block\\\"  shape=\\\"round\\\" color=\\\"success\\\" >\\r\\n             Recogido\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </ng-container>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RecogerOxigemPage } from './recoger-oxigem.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RecogerOxigemPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RecogerOxigemPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RecogerOxigemPageRoutingModule } from './recoger-oxigem-routing.module';\r\n\r\nimport { RecogerOxigemPage } from './recoger-oxigem.page';\r\nimport { SharedModule } from 'src/app/shareds/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RecogerOxigemPageRoutingModule,\r\n    SharedModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [RecogerOxigemPage],\r\n  providers:[\r\n    \r\n  ]\r\n})\r\nexport class RecogerOxigemPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2luYXNJbnRlcm5hcy9yZWNvZ2VyLW94aWdlbS9yZWNvZ2VyLW94aWdlbS5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit , ViewChild, AfterViewInit} from '@angular/core';\r\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BaseService } from 'src/app/service/base.service';\r\nimport { DatosEquiposService } from 'src/app/service/datos-equipos.service';\r\nimport { SweetalertService } from 'src/app/service/sweetalert.service';\r\nimport { FirmaComponent } from 'src/app/shareds/firma/firma.component';\r\nimport { Plugins } from \"@capacitor/core\";\r\nimport { AuthService } from 'src/app/service/auth.service';\r\nimport { DatosServicioService } from 'src/app/service/datos-servicio.service';\r\n@Component({\r\n  selector: 'app-recoger-oxigem',\r\n  templateUrl: './recoger-oxigem.page.html',\r\n  styleUrls: ['./recoger-oxigem.page.scss'],\r\n})\r\nexport class RecogerOxigemPage implements OnInit {\r\n\r\n  codigo=\"xxxx\";\r\n  firmaBase64;\r\n  Servicio;\r\n  equipos;\r\n  coordenadas={lat:0,lng:0};\r\n  form_persona;\r\n  form_registrar_persona;\r\n  registrarPersona=false;\r\n  formularioCompleto=false;\r\n  personaId=\"\";\r\n  permisosFirma:boolean=false;\r\n  constructor(public DatosServicioService:DatosServicioService,private AuthService:AuthService ,public formBuilder: FormBuilder,public DatosEquiposService: DatosEquiposService,public Router:Router,private BaseService:BaseService, public Sweetalert:SweetalertService,private ActivatedRoute: ActivatedRoute) { \r\n    \r\n   \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.equipos=this.DatosEquiposService.getEquipos();\r\n    if(this.equipos.length){\r\n      console.log(\"ingresando a recoger\");\r\n      console.log(this.equipos);\r\n    }else{\r\n        this.Sweetalert.notificacion(\"info\",\"Datos Insuficientes.\")\r\n        this.Router.navigateByUrl(\"menu-principal\");\r\n    }\r\n\r\n    this.form_persona = this.formBuilder.group({\r\n      personaTipoIdentificacion: new FormControl('1', Validators.compose([Validators.required])),\r\n      personaIdentificacion: new FormControl('', Validators.compose([Validators.required]))\r\n    });\r\n\r\n    this.form_registrar_persona = this.formBuilder.group({\r\n      personaNombres: new FormControl('', Validators.compose([Validators.required])),\r\n      personaApellidos: new FormControl('', Validators.compose([Validators.required])),\r\n      personaCelular: new FormControl('', Validators.compose([Validators.required])),\r\n      personaCorreoElectronico: new FormControl('', Validators.compose([Validators.required]))\r\n    });\r\n\r\n    Plugins.Geolocation.getCurrentPosition().then(result => {\r\n      console.log(result);\r\n      this.coordenadas.lat = result.coords.latitude;\r\n      this.coordenadas.lng = result.coords.longitude; \r\n    });\r\n\r\n    /* this.takePicture(); */\r\n\r\n    this.form_persona.get(\"personaIdentificacion\").valueChanges.subscribe(x => {\r\n      this.registrarPersona=false;\r\n      this.formularioCompleto=false;\r\n   });\r\n\r\n  }\r\n\r\n  validation_messages = {\r\n    'personaTipoIdentificacion': [\r\n      { type: 'required', message: 'Tipo de identificación es requerido.' }\r\n    ],\r\n    'personaIdentificacion': [\r\n      { type: 'required', message: 'Identificación es requerida.' }\r\n    ],\r\n    'personaNombres': [\r\n      { type: 'required', message: 'Nombres es requerida.' }\r\n    ],\r\n    'personaApellidos': [\r\n      { type: 'required', message: 'Apellidos es requerida.' }\r\n    ],\r\n    'personaCelular': [\r\n      { type: 'required', message: 'Celular es requerida.' }\r\n    ],\r\n    'personaCorreoElectronico': [\r\n      { type: 'required', message: 'Correo es requerida.' }\r\n    ]\r\n  };\r\n  \r\n  irRuta(ruta){\r\n    this.Router.navigateByUrl(ruta);\r\n  }\r\n  buscarPersona(value){\r\n    this.registrarPersona=false;\r\n    this.formularioCompleto=false;\r\n    let loading=this.BaseService.presentLoading();\r\n    this.BaseService.postJson('personas','directorio',\"validarExistenciaPersonaApi\",value).subscribe(res=>{\r\n      console.log(res);\r\n      if (res.RESPUESTA==\"EXITO\") {\r\n        this.formularioCompleto=true;\r\n        this.registrarPersona=true;\r\n        this.personaId=res.DATOS.personaId;\r\n        this.form_registrar_persona.controls['personaNombres'].setValue(res.DATOS.personaNombres);\r\n        this.form_registrar_persona.controls['personaApellidos'].setValue(res.DATOS.personaApellidos);\r\n        this.form_registrar_persona.controls['personaCelular'].setValue(res.DATOS.personaCelular);\r\n        this.form_registrar_persona.controls['personaCorreoElectronico'].setValue(res.DATOS.personaCorreoElectronico);\r\n      }else if(res.RESPUESTA==\"INFO\"){\r\n        this.formularioCompleto=true;\r\n        this.registrarPersona=true;\r\n        this.personaId=\"\";\r\n        this.form_registrar_persona.controls['personaNombres'].setValue(\"\");\r\n        this.form_registrar_persona.controls['personaApellidos'].setValue(\"\");\r\n        this.form_registrar_persona.controls['personaCelular'].setValue(\"\");\r\n        this.form_registrar_persona.controls['personaCorreoElectronico'].setValue(\"\");\r\n      }else{\r\n        this.Sweetalert.modal(\"error\",res.MENSAJE);\r\n        this.personaId=\"\";\r\n      }\r\n      loading.then(e=>{\r\n        e.dismiss();});\r\n    });\r\n  }\r\n\r\n  async takePicture () {\r\n    let image = await Plugins.Camera.getPhoto({\r\n      quality: 90,\r\n      allowEditing: true,\r\n      resultType: Plugins.CameraResultType.Uri\r\n    });\r\n   /*  alert(\"ok\"); */\r\n    let  imageUrl = image.webPath;\r\n    console.log(image);\r\n  }\r\n\r\n\r\n\r\n  recogido(){\r\n\r\n    if(this.permisosFirma && this.firmaBase64 && this.equipos.length>0){\r\n      let persona=Object.assign(this.form_registrar_persona.value, this.form_persona.value);\r\n      persona.personaId=this.personaId;\r\n      let equiposID=this.equipos.map(res=>{return {equipoID:res.equipoId,clienteID:res.clienteId,clientePersona:res.clientePersona,estadoEntregaEquipo:res.estadoEntregaEquipo,reciboReferencia:res.reciboReferencia};});\r\n      let datos={\r\n        firmaBase64:this.firmaBase64,\r\n        coordenadas:this.coordenadas,\r\n        equipos:equiposID,\r\n        persona:persona\r\n      };\r\n      console.log(datos);\r\n      let loading=this.BaseService.presentLoading();\r\n      this.BaseService.postJson('repartidores','recogerEquipos',\"registrarRecogidaEquipos\",datos).subscribe(res=>{\r\n        console.log(res);\r\n        if (res.RESPUESTA=\"EXITO\") {\r\n          this.DatosEquiposService.deleteEquipos();\r\n          this.Sweetalert.notificacion(\"success\",\"Recolección exitosa\")\r\n          this.DatosServicioService.setRecibosServico(res.DATOS);\r\n          this.Router.navigateByUrl(\"recibos-servicios\");\r\n        }else{\r\n          this.Sweetalert.modal(\"error\",res.MENSAJE);\r\n        }\r\n        loading.then(e=>{\r\n          e.dismiss();});\r\n      });\r\n    }else{\r\n      this.Sweetalert.modal(\"info\",\"Datos insuficientes para la operación.\");\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  firmaBase64Event($event){\r\n    this.firmaBase64=$event;\r\n  }\r\n\r\n  permisoFirma(){\r\n    console.log(this.permisosFirma);\r\n  }\r\n}\r\n"]}