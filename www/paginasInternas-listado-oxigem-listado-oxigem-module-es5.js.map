{"version":3,"sources":["webpack:///src/app/paginasInternas/listado-oxigem/listado-oxigem.page.html","webpack:///src/app/endpoind.ts","webpack:///src/app/paginasInternas/listado-oxigem/listado-oxigem-routing.module.ts","webpack:///src/app/paginasInternas/listado-oxigem/listado-oxigem.module.ts","webpack:///src/app/paginasInternas/listado-oxigem/listado-oxigem.page.scss","webpack:///src/app/paginasInternas/listado-oxigem/listado-oxigem.page.ts","webpack:///src/app/service/base.service.ts","webpack:///src/app/service/datos-equipos.service.ts"],"names":["Endpoind","API_BASE","ARCHIVO_BASE","routes","path","component","ListadoOxigemPageRoutingModule","imports","forChild","exports","ListadoOxigemPageModule","declarations","ListadoOxigemPage","DatosEquiposService","Router","ActivatedRoute","BaseService","Sweetalert","MenuController","cantidadItemLista","inicioItemLista","buscadorActivo","buscar","buscarAnimacion","listado","listadoFilter","listadoTodos","equiposSeleccionados","mostrarSeleccionados","mostrarSeleccionado","active","RECOGER","ENTREGAR","enable","listadoTipo","snapshot","params","tipo","titulo","configLista","getListado","ruta","navigateByUrl","estado","equipoSeleccionado","estadoEntregaEquipo","push","finalizarSelecciones","inicioLista","equipo","otrosPendientes","data","reciboID","reciboId","equipoID","equipoId","clienteID","clienteId","postJson","operacionOtrosPendientes","subscribe","res","RESPUESTA","DATOS","buscador","modal","index","console","log","splice","length","loading","presentLoading","setEquipos","then","val","setTimeout","e","dismiss","reiniciarSeleccionados","event","eventCargandoLista","target","disabled","infiniteScroll","ChangeSearchbar","operacionListado","inicioEquiposRecoger","mostrarEquiposRecoger","concat","notificacion","mensaje","complete","reiniciar","value","trim","operacionBusqueda","datoBusqueda","selector","template","AuthService","http","loadingController","headers","clase","create","cssClass","message","present","url","get","componente","controlador","operacion","Data","accion","authUsuarioID","getUsuario","usuarioId","post","patch","providedIn","equipos","cliente","Promise","resolve","reject"],"mappings":"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","file":"paginasInternas-listado-oxigem-listado-oxigem-module-es5.js","sourcesContent":["export default \"\\r\\n<ion-header class=\\\"ion-no-border\\\"  >\\r\\n  <ion-toolbar>\\r\\n    <!-- <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons> -->\\r\\n    <ion-title>{{titulo}}</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button icon=\\\"chevron-back\\\" ></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\" >\\r\\n     <!--  <ion-button size=\\\"small\\\" (click)=\\\"irRuta('escaneo-qr-oxigem')\\\" >\\r\\n        <ion-icon name=\\\"qr-code-outline\\\"  ></ion-icon>\\r\\n      </ion-button> -->\\r\\n      <ion-button *ngIf=\\\"!mostrarSeleccionados && !mostrarSeleccionado\\\" (click)=\\\"buscador()\\\" size=\\\"small\\\" >\\r\\n        <ion-icon *ngIf=\\\"buscar\\\" name=\\\"search-circle\\\"></ion-icon>\\r\\n        <ion-icon *ngIf=\\\"!buscar\\\" name=\\\"search\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n      <ion-button *ngIf=\\\"mostrarSeleccionados && !mostrarSeleccionado\\\" (click)=\\\"inicioLista()\\\" size=\\\"small\\\" >\\r\\n        <ion-icon name=\\\"list-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <ion-searchbar color=\\\"primary\\\" placeholder=\\\"Buscar\\\" style=\\\"margin-bottom: 40%;\\\"  (ionChange)=\\\"ChangeSearchbar($event.target.value)\\\" autocomplete=\\\"On\\\" style=\\\"position:fixed; z-index: 100;\\\" *ngIf=\\\"buscar\\\" [ngClass]=\\\"{'animate__backInRight': buscarAnimacion, 'animate__backOutRight': !buscarAnimacion }\\\" class=\\\"animate__animated  \\\" ></ion-searchbar>\\r\\n \\r\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n      <ion-refresher-content></ion-refresher-content>\\r\\n    </ion-refresher>\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n        <ion-row *ngIf=\\\"!mostrarSeleccionados && !mostrarSeleccionado\\\" >\\r\\n          <ion-col>\\r\\n            <ion-item lines=\\\"none\\\" *ngIf=\\\"equiposSeleccionados.length>0\\\">\\r\\n            \\r\\n              <ion-label class=\\\"text-center\\\">\\r\\n                <p>Equipos Seleccionados {{equiposSeleccionados.length}}</p>\\r\\n                <ion-button  (click)=\\\"mostrarListaSeleccionados()\\\" color=\\\"success\\\" size=\\\"small\\\" >Finalizar</ion-button>\\r\\n                <ion-button  (click)=\\\"reiniciarSeleccionados()\\\" color=\\\"primary\\\" size=\\\"small\\\" >Reiniciar</ion-button>\\r\\n              </ion-label>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n          \\r\\n          <ion-col  *ngFor=\\\"let item of listado\\\" size-lg=\\\"6\\\"  size=\\\"12\\\">\\r\\n            <ion-item lines=\\\"none\\\" style=\\\"margin: 2px;\\\" class=\\\"animate__animated animate__fadeInUpBig\\\">\\r\\n              <ion-grid>\\r\\n                <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                  <!-- <ion-col size=\\\"2\\\">\\r\\n                    <ion-icon name=\\\"calendar-outline\\\" style=\\\"background: #ed576b\\\" ></ion-icon> \\r\\n                  </ion-col>  -->\\r\\n                  <ion-col size=\\\"9\\\"  >\\r\\n                    \\r\\n                      <h4><strong> SN : {{item.equipoSerial}}</strong><br> CÃ³digo : {{item.equipoCodigo}}</h4>\\r\\n                      <span> {{item.equipoTitulo}} </span><br>\\r\\n                      <span>  Cliente : <strong>{{item.personaIdentificacion}} | {{item.personaRazonSocial}}</strong></span>\\r\\n                      <span *ngIf=\\\"item.referenciaIdentificacion\\\" > <br> Refe :  <strong>{{item.referenciaIdentificacion}} | {{item.referenciaRazonSocial}}</strong> </span>\\r\\n                    \\r\\n                   <!--  <ion-buttons>\\r\\n                      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" disabled (click)=\\\"irRuta('detalles-usuario/'+7)\\\"><ion-icon name=\\\"person-outline\\\" class=\\\"ion-icon-b\\\"></ion-icon></ion-button>\\r\\n                      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" disabled (click)=\\\"irRuta('recoger-oxigem/21')\\\"><ion-icon name=\\\"map-outline\\\" class=\\\"ion-icon-b\\\"></ion-icon></ion-button>\\r\\n                    </ion-buttons> -->\\r\\n                  </ion-col>\\r\\n                  <ion-col class=\\\"text-right\\\" size=\\\"3\\\" >\\r\\n                    <ion-button fill=\\\"clear\\\" size=\\\"large\\\" (click)=\\\"seleccionarEquipo(item)\\\" ><ion-icon name=\\\"chevron-forward\\\" slot=\\\"end\\\" class=\\\"ion-icon-a\\\"></ion-icon></ion-button>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n          <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n            <ion-infinite-scroll-content\\r\\n              loadingSpinner=\\\"bubbles\\\"\\r\\n              loadingText=\\\"Loading more data...\\\">\\r\\n          </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n        </ion-row>\\r\\n        <ion-row *ngIf=\\\"mostrarSeleccionado\\\" >\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <ion-item lines=\\\"none\\\" style=\\\"margin: 2px;\\\" class=\\\"animate__animated animate__fadeInUpBig\\\">\\r\\n              <ion-grid>\\r\\n                <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                  <ion-col size=\\\"12\\\" style=\\\"margin-bottom: 5%;\\\">\\r\\n                    <ion-label >\\r\\n                      <ion-button  color=\\\"danger\\\" (click)=\\\"cancelarSeleccion()\\\">Cancelar</ion-button>\\r\\n                    </ion-label>\\r\\n                  </ion-col> \\r\\n                  <ion-col size=\\\"12\\\">\\r\\n                    <ion-label class=\\\"ion-text-wrap text-center\\\">   \\r\\n                      <ion-text color=\\\"primary\\\"><h2>Equipo</h2></ion-text>\\r\\n                      <strong>equipo:</strong> {{equipoSeleccionado.equipoTitulo}}<br>\\r\\n                      <strong>Serie:</strong> {{equipoSeleccionado.equipoSerial}}<br>\\r\\n                      <strong>Codigo Equipo:</strong> {{equipoSeleccionado.equipoCodigo}}<br>\\r\\n                      <strong>Tipo Equipo:</strong> {{equipoSeleccionado.tipoEquipoTitulo}}<br>\\r\\n                      <strong>Capacidad:</strong> {{equipoSeleccionado.equipoCapacidad}}<br><br>\\r\\n                      <ion-text color=\\\"primary\\\"><h2>Cliente</h2></ion-text>\\r\\n                      <strong>Nombre:</strong> {{equipoSeleccionado.personaRazonSocial}}<br>\\r\\n                      <strong>CC:</strong> {{equipoSeleccionado.personaIdentificacion}}<br>\\r\\n                      <strong>Codigo Cliente:</strong> {{equipoSeleccionado.clienteCodigo}}<br>\\r\\n                      <strong>Correo:</strong> {{equipoSeleccionado.personaCorreoElectronico}}<br>\\r\\n                      <span  *ngIf=\\\"equipoSeleccionado.referenciaIdentificacion\\\"><strong> Referencia :  </strong> <br> {{equipoSeleccionado.referenciaIdentificacion}} | {{equipoSeleccionado.referenciaRazonSocial}} </span>\\r\\n\\r\\n                      <br><br>\\r\\n                      <ion-text color=\\\"primary\\\"><h2>Recibo</h2></ion-text>\\r\\n                      <strong>Numero:</strong> {{equipoSeleccionado.reciboNumero}}<br>\\r\\n                      <strong>Servicio:</strong> {{equipoSeleccionado.reciboServicio}}<br>\\r\\n                      <strong>Fecha Servicio:</strong> {{equipoSeleccionado.reciboFechaServicio}}<br>\\r\\n                      <strong>Fecha recogida:</strong> {{equipoSeleccionado.reciboFechaRecogida}}<br><br>\\r\\n\\r\\n                      <ng-container *ngIf=\\\"equipoSeleccionado.otrosPendientes\\\">\\r\\n                        <ion-text color=\\\"primary\\\"><h2>Otros Pendientes</h2></ion-text>\\r\\n                          <ng-container *ngFor=\\\"let otro of equipoSeleccionado.otrosPendientes\\\" >\\r\\n                            <ion-label style=\\\"border: solid red;\\\" >\\r\\n                              <strong>equipo:</strong> {{otro.equipoTitulo}}<br>\\r\\n                              <strong>Codigo:</strong> {{otro.equipoCodigo}}<br>\\r\\n                            </ion-label>\\r\\n                          </ng-container>\\r\\n                      </ng-container>\\r\\n                      \\r\\n                      \\r\\n                      \\r\\n                      <br><br>\\r\\n                      <ion-button *ngIf=\\\"listadoTipo=='recoger'\\\" color=\\\"success\\\" size=\\\"small\\\" slot=\\\"end\\\" (click)=\\\"guardarSeleccion('buen_estado')\\\">Buen estado</ion-button>\\r\\n                      <ion-button *ngIf=\\\"listadoTipo=='recoger'\\\" color=\\\"warning\\\" size=\\\"small\\\" slot=\\\"end\\\" (click)=\\\"guardarSeleccion('perdido')\\\">Perdido</ion-button>\\r\\n                      <ion-button *ngIf=\\\"listadoTipo=='recoger'\\\" color=\\\"primary\\\" size=\\\"small\\\" slot=\\\"end\\\" (click)=\\\"guardarSeleccion('devuelto')\\\">Devuelto</ion-button>\\r\\n                      <ion-button *ngIf=\\\"listadoTipo=='entregar'\\\" color=\\\"success\\\" size=\\\"small\\\" slot=\\\"end\\\" (click)=\\\"guardarSeleccion()\\\">Aceptar</ion-button>\\r\\n                    </ion-label>\\r\\n                  </ion-col> \\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row *ngIf=\\\"mostrarSeleccionados && !mostrarSeleccionado\\\" >\\r\\n          <ion-col size=\\\"12\\\" *ngFor=\\\"let equipo of equiposSeleccionados ;let index = index\\\" size-lg=\\\"6\\\"  size=\\\"12\\\">\\r\\n            <ion-item lines=\\\"none\\\" style=\\\"margin: 2px;\\\" class=\\\"\\\">\\r\\n              <ion-grid>\\r\\n                <ion-row class=\\\"ion-align-items-center\\\">\\r\\n                  <!-- <ion-col size=\\\"2\\\" style=\\\"margin: 0%; padding: 0%;\\\">\\r\\n                      <ion-icon name=\\\"checkmark-outline\\\"  style=\\\"background: #57ed95;margin: 0%; padding: 0%;\\\" ></ion-icon>\\r\\n                  </ion-col>  --> \\r\\n                  <ion-col size=\\\"10\\\">\\r\\n                    <ion-label (click)=\\\"openIndex=openIndex === index ? -1 : index\\\" >\\r\\n                      <strong>{{equipo.equipoTitulo}}</strong>  <br>\\r\\n                      <strong> Codigo Cliente:</strong> {{equipo.clienteCodigo}}<br>\\r\\n                      <strong> CC: </strong> {{equipo.personaIdentificacion}}<br>\\r\\n                      <strong>nombre:</strong> {{equipo.personaRazonSocial}}<br>\\r\\n                      <ion-label *ngIf=\\\"openIndex === index\\\"   >\\r\\n                        <strong>Correo:</strong> {{equipo.personaCorreoElectronico}}<br>\\r\\n                        <strong>Numero:</strong> {{equipo.reciboNumero}}<br>\\r\\n                        <strong>Servicio:</strong> {{equipo.reciboServicio}}<br>\\r\\n                        <strong>Fecha Servicio:</strong> {{equipo.reciboFechaServicio}}<br>\\r\\n                        <strong>Fecha recogida:</strong> {{equipo.reciboFechaRecogida}}<br>\\r\\n                      </ion-label>\\r\\n                    </ion-label>\\r\\n                  </ion-col>\\r\\n                  <ion-col class=\\\"text-right\\\" size=\\\"2\\\" >\\r\\n                    <ion-button (click)=\\\"eliminarSeleccion(index)\\\" size=\\\"small\\\" fill=\\\"clear\\\" ><ion-icon style=\\\"background: white\\\"  name=\\\"close-outline\\\" color=\\\"danger\\\"></ion-icon></ion-button>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-grid>\\r\\n            </ion-item>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" style=\\\"margin-top: 5%;\\\">\\r\\n            <ion-label >\\r\\n              <ion-item lines=\\\"none\\\">\\r\\n                <ion-label class=\\\"text-center\\\">\\r\\n                  <ion-button color=\\\"success\\\" *ngIf=\\\"listadoTipo!='recoger' && listadoTipo!='entregar'\\\" style=\\\"width: 100%;\\\" size=\\\"large\\\" slot=\\\"start\\\" (click)=\\\"finalizarSelecciones('entrega-oxigem')\\\">Entregar</ion-button><br>\\r\\n                  <ion-button color=\\\"primary\\\" *ngIf=\\\"listadoTipo!='recoger' && listadoTipo!='entregar'\\\" style=\\\"width: 100%;\\\" size=\\\"large\\\" slot=\\\"end\\\" (click)=\\\"finalizarSelecciones('recoger-oxigem')\\\">Recoger</ion-button>\\r\\n                  <ion-button color=\\\"success\\\" *ngIf=\\\"listadoTipo=='entregar'\\\" style=\\\"width: 100%;\\\" size=\\\"large\\\" slot=\\\"start\\\" (click)=\\\"finalizarSelecciones('entrega-oxigem')\\\">Continuar Entregar</ion-button><br>\\r\\n                  <ion-button color=\\\"primary\\\" *ngIf=\\\"listadoTipo=='recoger'\\\" style=\\\"width: 100%;\\\" size=\\\"large\\\" slot=\\\"end\\\" (click)=\\\"finalizarSelecciones('recoger-oxigem')\\\">Continuar Recogida</ion-button>\\r\\n                </ion-label>\\r\\n              </ion-item>\\r\\n            </ion-label>\\r\\n          </ion-col> \\r\\n        </ion-row>\\r\\n</div>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\";","export const Endpoind={\r\n  API_BASE:\"https://siom.oximeiser.com/api.php\",\r\n  ARCHIVO_BASE:\"https://siom.oximeiser.com/\"\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ListadoOxigemPage } from './listado-oxigem.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListadoOxigemPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ListadoOxigemPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListadoOxigemPageRoutingModule } from './listado-oxigem-routing.module';\r\n\r\nimport { ListadoOxigemPage } from './listado-oxigem.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ListadoOxigemPageRoutingModule\r\n  ],\r\n  declarations: [ListadoOxigemPage]\r\n})\r\nexport class ListadoOxigemPageModule {}\r\n","export default \"ion-toolbar {\\n  --background: #003f7f;\\n  color: #FFFFFF;\\n  border-radius: 0 0 20% 20%;\\n}\\n\\nion-col {\\n  padding: 0;\\n}\\n\\nion-content {\\n  --background: #f6f6f6;\\n}\\n\\nion-card {\\n  margin-top: -180px;\\n  z-index: 10;\\n  padding: 6px;\\n  box-shadow: none;\\n  box-shadow: 0px 3px 45px 0px rgba(0, 0, 0, 0.16);\\n  border-radius: 40px;\\n  overflow: visible;\\n}\\n\\nion-card ion-img {\\n  width: 240px;\\n  margin: -60px auto auto auto;\\n}\\n\\nion-item {\\n  border-radius: 14px;\\n  box-shadow: 0px 3px 45px 0px rgba(0, 0, 0, 0.08);\\n  color: #949494;\\n  margin-bottom: 10px;\\n}\\n\\nion-item ion-icon:first-of-type {\\n  color: #FFFFFF;\\n  padding: 4px;\\n  border-radius: 12px;\\n}\\n\\n.ion-icon-a {\\n  background: #31d039;\\n  color: #FFFFFF;\\n}\\n\\n.ion-icon-b {\\n  background: #316dd0;\\n  color: #FFFFFF;\\n  padding: 4px;\\n  border-radius: 12px;\\n}\\n\\n.sato-lineas {\\n  line-height: 1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hc0ludGVybmFzL2xpc3RhZG8tb3hpZ2VtL2xpc3RhZG8tb3hpZ2VtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0VBQ0EsY0FBQTtFQUVBLDBCQUFBO0FBQUo7O0FBR0E7RUFDSSxVQUFBO0FBQUo7O0FBR0E7RUFDSSxxQkFBQTtBQUFKOztBQUdBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0RBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0FBQUo7O0FBRUk7RUFDSSxZQUFBO0VBQ0EsNEJBQUE7QUFBUjs7QUFLQTtFQUNJLG1CQUFBO0VBQ0EsZ0RBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7QUFGSjs7QUFHSTtFQUNJLGNBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7QUFEUjs7QUFPQTtFQUNJLG1CQUFBO0VBQ0EsY0FBQTtBQUpKOztBQU9BO0VBQ0ksbUJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0FBSko7O0FBT0E7RUFDSSxnQkFBQTtBQUpKIiwiZmlsZSI6InNyYy9hcHAvcGFnaW5hc0ludGVybmFzL2xpc3RhZG8tb3hpZ2VtL2xpc3RhZG8tb3hpZ2VtLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi10b29sYmFyIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzAwM2Y3ZjtcclxuICAgIGNvbG9yOiAjRkZGRkZGO1xyXG4gICAgXHJcbiAgICBib3JkZXItcmFkaXVzOiAwIDAgMjAlIDIwJTtcclxufVxyXG5cclxuaW9uLWNvbCB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNmNmY2ZjY7XHJcbn1cclxuXHJcbmlvbi1jYXJkIHtcclxuICAgIG1hcmdpbi10b3A6IC0xODBweDtcclxuICAgIHotaW5kZXg6IDEwO1xyXG4gICAgcGFkZGluZzogNnB4O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIGJveC1zaGFkb3c6IDBweCAzcHggNDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE2KTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDQwcHg7XHJcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcclxuXHJcbiAgICBpb24taW1nIHtcclxuICAgICAgICB3aWR0aDogMjQwcHg7XHJcbiAgICAgICAgbWFyZ2luOiAtNjBweCBhdXRvIGF1dG8gYXV0bztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE0cHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggM3B4IDQ1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XHJcbiAgICBjb2xvcjogcmdiKDE0OCwgMTQ4LCAxNDgpO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIGlvbi1pY29uOmZpcnN0LW9mLXR5cGUge1xyXG4gICAgICAgIGNvbG9yOiAjRkZGRkZGO1xyXG4gICAgICAgIHBhZGRpbmc6IDRweDtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgfVxyXG4gICBcclxufVxyXG5cclxuXHJcbi5pb24taWNvbi1hIHtcclxuICAgIGJhY2tncm91bmQ6ICMzMWQwMzk7XHJcbiAgICBjb2xvcjogI0ZGRkZGRjtcclxufVxyXG5cclxuLmlvbi1pY29uLWIge1xyXG4gICAgYmFja2dyb3VuZDogIzMxNmRkMDtcclxuICAgIGNvbG9yOiAjRkZGRkZGO1xyXG4gICAgcGFkZGluZzogNHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxufVxyXG5cclxuLnNhdG8tbGluZWFze1xyXG4gICAgbGluZS1oZWlnaHQ6IDFweDtcclxuICB9XHJcbiJdfQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { DatosEquiposService } from 'src/app/service/datos-equipos.service';\r\nimport { BaseService } from '../../service/base.service';\r\nimport { SweetalertService } from '../../service/sweetalert.service';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\n@Component({\r\n  selector: 'app-listado-oxigem',\r\n  templateUrl: './listado-oxigem.page.html',\r\n  styleUrls: ['./listado-oxigem.page.scss'],\r\n})\r\nexport class ListadoOxigemPage implements OnInit {\r\n  cantidadItemLista=10;\r\n  inicioItemLista=0;\r\n  buscadorActivo=false;\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n  buscar=false;\r\n  buscarAnimacion=false;\r\n  listadoTipo;\r\n  titulo;\r\n  listado=[];\r\n  listadoFilter=[];\r\n  listadoTodos=[];\r\n  equiposSeleccionados=[];\r\n  equipoSeleccionado;\r\n  mostrarSeleccionados=false;\r\n  mostrarSeleccionado=false;\r\n  active=true;\r\n  openIndex;\r\n  eventCargandoLista;\r\n  configLista;\r\n  RECOGER=false;\r\n  ENTREGAR=false;\r\n  constructor(public DatosEquiposService:DatosEquiposService ,public Router:Router,private ActivatedRoute: ActivatedRoute, public BaseService:BaseService,public Sweetalert:SweetalertService,private MenuController:MenuController) { }\r\n\r\n  ngOnInit() {\r\n    this.MenuController.enable(true, 'menu');\r\n    this.listadoTipo=this.ActivatedRoute.snapshot.params.tipo;\r\n    if(this.listadoTipo=='recoger'){\r\n      this.titulo=\"Recoger\";\r\n      this.RECOGER=true;\r\n      this.configLista={\r\n        'operacionBusqueda': [\"recogerEquipos\",\"buscarEquipos\"],\r\n        'operacionListado':  [\"recogerEquipos\",\"listaPendientesPaginado\"],\r\n        'operacionOtrosPendientes':  [\"recogerEquipos\",\"otrosPendientesPorCliente\"]\r\n      }\r\n    }else if(this.listadoTipo=='entregar'){\r\n      this.titulo=\"Entregar\";\r\n      this.ENTREGAR=true;\r\n      this.configLista={\r\n        'operacionBusqueda': [\"entregarEquipos\",\"buscarEquipos\"],\r\n        'operacionListado':  [\"entregarEquipos\",\"listaPendientesPaginado\"],\r\n        'operacionOtrosPendientes':  [\"entregarEquipos\",\"otrosPendientesPorRecibo\"]\r\n      }\r\n    }\r\n    this.getListado();\r\n  }\r\n \r\n  irRuta(ruta){\r\n    this.Router.navigateByUrl(ruta);\r\n  }\r\n\r\n  guardarSeleccion(estado=null){\r\n    this.equipoSeleccionado.estadoEntregaEquipo=estado;\r\n    this.equiposSeleccionados.push(this.equipoSeleccionado);\r\n    if(this.ENTREGAR){\r\n      this.finalizarSelecciones('entrega-oxigem');\r\n\r\n    }else{\r\n      this.inicioLista();\r\n    }\r\n  }\r\n\r\n  cancelarSeleccion(){\r\n    this.inicioLista();\r\n  }\r\n\r\n  inicioLista(){\r\n    this.mostrarSeleccionado=false;\r\n    this.mostrarSeleccionados=false;\r\n  }\r\n\r\n  seleccionarEquipo(equipo){\r\n    equipo.otrosPendientes=[];\r\n      let data;\r\n      if(this.ENTREGAR){\r\n        data={reciboID:equipo.reciboId,equipoID:equipo.equipoId};\r\n      }else{\r\n        data={clienteID:equipo.clienteId,equipoID:equipo.equipoId};\r\n      }\r\n      this.BaseService.postJson('repartidores',this.configLista.operacionOtrosPendientes[0],this.configLista.operacionOtrosPendientes[1],data).subscribe(res=>{\r\n          if(res.RESPUESTA=\"EXITO\"){\r\n            if(res.DATOS){\r\n              equipo.otrosPendientes=res.DATOS;\r\n            }\r\n            this.equipoSeleccionado=equipo;\r\n            if(this.buscadorActivo){this.buscador();}\r\n            this.mostrarSeleccionado=true;\r\n          }else{\r\n            this.Sweetalert.modal(\"error\",\"No se a cargado correctamente la info del equipo.\");\r\n          }\r\n      });\r\n   /*  }else{\r\n      this.equipoSeleccionado=equipo;\r\n      if(this.buscadorActivo){this.buscador();}\r\n      this.mostrarSeleccionado=true;\r\n    } */\r\n   \r\n  }\r\n\r\n  eliminarSeleccion(index){\r\n    console.log(\"eliminar:\"+index);\r\n    this.equiposSeleccionados.splice(index,1);\r\n    if(this.equiposSeleccionados.length==0){\r\n      this.mostrarSeleccionados=false;\r\n    }\r\n  }\r\n\r\n  finalizarSelecciones(ruta){\r\n    let loading=this.BaseService.presentLoading();\r\n    this.DatosEquiposService.setEquipos(this.equiposSeleccionados).then((val)=>{\r\n      setTimeout(() => {\r\n        loading.then(e=>{\r\n          e.dismiss();\r\n        });\r\n        this.reiniciarSeleccionados();\r\n        this.Router.navigateByUrl(ruta);\r\n      }, 500);\r\n    }).catch(e=>{\r\n      console.log(e);\r\n    })\r\n  }\r\n\r\n  mostrarListaSeleccionados(){\r\n    this.mostrarSeleccionados=true;\r\n  }\r\n\r\n  reiniciarSeleccionados(){\r\n    this.equiposSeleccionados=[];\r\n  }\r\n\r\n  loadData(event) {\r\n    if(!this.buscadorActivo){\r\n      this.inicioItemLista=this.inicioItemLista+10;\r\n      this.eventCargandoLista=event;\r\n      if (this.listado.length<10) {\r\n        this.eventCargandoLista.target.disabled = true;\r\n      } \r\n      this.getListado();\r\n    }\r\n    /* setTimeout(() => {\r\n      console.log('Done'); \r\n      event.target.complete();\r\n       if (this.listado.length == 1000) {\r\n        event.target.disabled = true;\r\n      } \r\n    }, 500); */\r\n    \r\n  }\r\n\r\n  toggleInfiniteScroll() {\r\n    console.log(\"jdhkfjkj\");\r\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\r\n  }\r\n\r\n  buscador(){\r\n    if(this.buscar){\r\n      this.buscarAnimacion=false;\r\n      setTimeout(() => {\r\n        this.buscar=false;\r\n         this.ChangeSearchbar(''); \r\n      }, 900);\r\n    }else{\r\n      this.buscar=true;\r\n      this.buscarAnimacion=true;\r\n    }\r\n  }\r\n\r\n  getListado(){\r\n    this.BaseService.postJson('repartidores',this.configLista.operacionListado[0],this.configLista.operacionListado[1],{inicioEquiposRecoger:this.inicioItemLista,mostrarEquiposRecoger: this.cantidadItemLista }).subscribe(res=>{\r\n      if (res.RESPUESTA=\"EXITO\") {\r\n       if (res.DATOS) {\r\n         this.listadoTodos=[].concat(this.listadoTodos,res.DATOS);\r\n         this.listado=this.listadoTodos;\r\n         this.listadoFilter=this.listadoTodos;\r\n         console.log(this.listadoTodos);\r\n       }else{\r\n         this.Sweetalert.notificacion(\"info\",\"No se encontraron servicios.\");\r\n       }\r\n      }else{\r\n        this.Sweetalert.modal(\"error\",res.mensaje);\r\n      }\r\n      if(this.eventCargandoLista){\r\n        this.eventCargandoLista.target.complete();\r\n      }\r\n    });\r\n  }\r\n\r\n  reiniciar(){\r\n    this.listadoTodos=[];\r\n    this.listado=[];\r\n    this.listadoFilter=[];\r\n  }\r\n\r\n  doRefresh(event)  {\r\n    this.inicioItemLista=0;\r\n    this.reiniciar();\r\n    this.getListado();\r\n    setTimeout(() => {\r\n      event.target.complete();\r\n    }, 1000);\r\n  }\r\n\r\n  ChangeSearchbar(value){\r\n     let val=value;\r\n     if (val && val.trim() !== '' && val.length>3 ) {\r\n       this.buscadorActivo=true;\r\n      this.BaseService.postJson('repartidores',this.configLista.operacionBusqueda[0],this.configLista.operacionBusqueda[1],{datoBusqueda:value}).subscribe(res=>{\r\n        if (res.RESPUESTA=\"EXITO\") {\r\n         if (res.DATOS) {\r\n           this.listado=res.DATOS;\r\n         }else{\r\n          this.listado=[];\r\n           this.Sweetalert.notificacion(\"info\",\"No se encontraron equipos.\");\r\n         }\r\n        }else{\r\n          this.Sweetalert.modal(\"error\",res.mensaje);\r\n        }\r\n      });\r\n    }else{\r\n      this.buscadorActivo=false;\r\n      this.listado=this.listadoTodos;\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Endpoind } from '../endpoind';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { AuthService } from './auth.service';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BaseService {\r\n\r\n  headers =  new HttpHeaders({\r\n    'Content-Type': 'aplication/json',\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, PATCH, OPTIONS',\r\n    'Access-Control-Allow-Headers' : 'Access-Control-Allow-Headers,Content-Type,Access-Control-All-Methods'\r\n  });\r\n\r\n   \r\n  constructor(private AuthService:AuthService,private http: HttpClient,public loadingController: LoadingController) { }\r\n  \r\n  async presentLoading( mensaje=\"Cargando...\",clase='my-custom-class') {\r\n    let loading = await this.loadingController.create({\r\n      cssClass: clase,\r\n      message: mensaje\r\n    });\r\n    loading.present();\r\n    return  loading;\r\n  }\r\n\r\n  getJson(url):Observable<any>{\r\n    return this.http.get<any>(Endpoind.API_BASE+url);\r\n  }\r\n\r\n  postJson(componente,controlador,operacion,Data:any={},loading=true):Observable<any>{\r\n    Data.componente=componente;\r\n    Data.controlador=controlador;\r\n    Data.accion=operacion;\r\n    Data.authUsuarioID=this.AuthService.getUsuario().usuarioId;\r\n    return this.http.post<any>(Endpoind.API_BASE,Data);\r\n  }\r\n\r\n  putJson(Data:any,url):Observable<any>{\r\n    return this.http.patch<any>(Endpoind.API_BASE+url,Data);\r\n  }\r\n\r\n  login(componente,controlador,operacion,Data:any={}):Observable<any>{\r\n    Data.componente=componente;\r\n    Data.controlador=controlador;\r\n    Data.accion=operacion;\r\n    return this.http.post<any>(Endpoind.API_BASE,Data);\r\n  }\r\n\r\n  /* sesion(controlador=\"sesion\",operacion=\"ApiPorIdentificacion\",Data:any={},loading=true):Observable<any>{\r\n    Data.controlador=controlador;\r\n    Data.accion=operacion;\r\n    this.headers.append('Authorization', 'Basic' + base64.encode(\"joanathan\" + ':' + \"12345\") );\r\n    return this.http.post<any>(Endpoind.API_BASE,Data,{ headers:this.headers});\r\n  } */\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DatosEquiposService {\r\n  equipos=[];\r\n  cliente=[];\r\n  constructor() { }\r\n\r\n\r\n  setEquipos(equipos){\r\n    return new Promise((resolve, reject) => {\r\n      this.equipos=equipos;\r\n      console.log(\"promesa set eqipo\");\r\n      return resolve(true);\r\n    });\r\n  }\r\n\r\n  getEquipos(){\r\n    return this.equipos;\r\n  }\r\n\r\n  deleteEquipos(){\r\n    this.equipos=[];\r\n  }\r\n}\r\n"]}